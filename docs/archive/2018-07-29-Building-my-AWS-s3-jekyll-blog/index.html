<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-archive/2018-07-29-Building-my-AWS-s3-jekyll-blog" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">AWS S3 Static Blog | The Uncommon Engineer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ronamosa.io/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="AWS S3 Static Blog | The Uncommon Engineer"><meta data-rh="true" name="description" content="Published Date: 29-JUL-2018"><meta data-rh="true" property="og:description" content="Published Date: 29-JUL-2018"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ronamosa.io/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog"><link data-rh="true" rel="alternate" href="https://ronamosa.io/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog" hreflang="en"><link data-rh="true" rel="alternate" href="https://ronamosa.io/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9UFF3RBJQ9-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"AWS S3 Static Blog","item":"https://ronamosa.io/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog"}]}</script><link rel="search" type="application/opensearchdescription+xml" title="The Uncommon Engineer" href="/opensearch.xml">
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DMRNTVGLRC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DMRNTVGLRC",{anonymize_ip:!0})</script>

<script src="/js/console-clue.js"></script>
<script src="/js/metricool.js"></script><link rel="stylesheet" href="/assets/css/styles.dd12b5e8.css">
<script src="/assets/js/runtime~main.cb34a51e.js" defer="defer"></script>
<script src="/assets/js/main.fb1c5b66.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.svg" alt="ronamosa.io" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.svg" alt="ronamosa.io" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Uncommon Engineer</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Docs</a><a class="navbar__item navbar__link" href="/blog/">Blog</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about/">About</a><a class="navbar__item navbar__link" href="/projects/">Projects</a><a class="navbar__item navbar__link" href="/changelog/">Changelog</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">▶ Start Here</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/books/reading-list">📚 Books &amp; Papers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/study/SCS-C01/">📗 Study</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/️-hacker">🏴‍☠️ Hacker</a><button aria-label="Expand sidebar category &#x27;🏴‍☠️ Hacker&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/-engineer">💻 Engineer</a><button aria-label="Expand sidebar category &#x27;💻 Engineer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/archive/docker-wordpress/docker-wordpress-1">🗃 Archive</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/archive/docker-wordpress/docker-wordpress-1">Docker Wordpress Site</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/archive/terraform-aws-ec2/terraform-aws-1">Terraform AWS EC2</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2016-02-13-Ansible-CreateVMs-Vsphere-free_version">Creating VM&#x27;s using Ansible and ESXi 5.5 Free Version.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP">Setting up a CISCO ASA 5505 VLAN &amp; VPN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2016-03-18-First-Config_CISCO-ASA5505">Initializing a CISCO ASA 5505</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-01-20-Docker-Private-Registry_v1.0">Docker Trusted Registry (private) 1.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-06-09-Docker-volumes-no-such-file-ISSUE">Troubleshooting Docker Volumes errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-06-20-Docker-Jenkins-Pipeline-permission-ISSUES">Troubleshooting Docker issues on a Jenkins Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-07-10-i3wm-Block-Status-Screen">i3wm (Window Manager) + Blocks + Screencasting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-07-18-RaspberryPi-Kali-Reverse-STunnel">Kali Raspberry Pi Reverse Shell (STunnel)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-08-23-FreeNAS-Torrent-Over_OpenVPN">FreeNAS: Using Transmission over OpenVPN (jailed)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-08-25-Windows-SQUID-SSLBUMP">Setting up HTTPS inspection (mitm) with Windows Squid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-09-12-Windows10Pro-RDP-AzureADJoined">RDP to a Azure AD Joined Device</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-09-14-Reset_Win10_Passwd_Vmware_Guest">Reset Windows10 VMWare Guest Password.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-13-Docker_Private_Registry_v2.0">Docker Private Registry 2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-20-NGINX-Centos7-SELinux">NGINX on CentOS 7 with SELinux issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-21-Jenkins_Setup_CentOS7">Setup a Jenkins Server on CentOS 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-22-Ubuntu-Desktop-USB-Thinkpad13">Quick Note - Install Ubuntu 16.04 via bootable USB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-04-13-Docker-Remote-Work-Fortinet">Docker: Fortinet VPN in a container for remote work</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-04-21-Cisco-WAP200-Firmware-Upgrade">Cisco WAP200 Firmware Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-06-23-Apache-Reverse-Proxy-TLSv1-2">Apache Reverse TLSv1.2 Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog">AWS S3 Static Blog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2019-02-04-Delete-VirtualBox-VM-HDD">VirtualBox: Purge deleted hard disks.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-04-27-Install-AWS-eksctl">Install eksctl tool for AWS Elastic Kubernetes Service (EKS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-09-18-EKS-Spot-Instances">EKS with Spot Instances using Terraform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-11-19-Ubiquiti-Home-Network-Part1">Ubiquiti Home Network: Part.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-11-28-Ubiquiti-Home-Network-Part2">Ubiquiti Home Network: Part.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/secret-page">The Unix Programmers Manual</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">🗃 Archive</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">AWS S3 Static Blog</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>AWS S3 Static Blog</h1></header><div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>Published Date: 29-JUL-2018</p></div></div>
<p>When I decided to create <a href="https://cloudbuilder.io" target="_blank" rel="noopener noreferrer">https://cloudbuilder.io</a> (I&#x27;ve had a few over the years) I figured I would do it in &quot;the cloud&quot;, and use some CI/CD concepts along the way.</p>
<p>While there are lots of options for a quick &amp; easy website setup (think <a href="https://www.squarespace.com/" target="_blank" rel="noopener noreferrer">Squarespaces</a>, <a href="https://www.wix.com/" target="_blank" rel="noopener noreferrer">Wix.com</a>, <a href="https://wordpress.com/" target="_blank" rel="noopener noreferrer">WordPress</a>), I wanted a blog that was a bit &quot;hands on&quot;, and which gave me plenty of control over the look, feel and access to the whole site.</p>
<p>My previous blog was a static site hosted on <a href="https://pages.github.com/" target="_blank" rel="noopener noreferrer">Github Pages</a> which is where I first discovered a) what a static site was and b) <a href="https://jekyllrb.com/" target="_blank" rel="noopener noreferrer">Jekyll</a>.</p>
<p>So I thought - &quot;more of that, but add in some other functions to make it interesting.&quot;</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview">​</a></h2>
<p>My site consists of the following:</p>
<p><img decoding="async" loading="lazy" alt="site architecture" src="/assets/images/myblog-cloudbuilder-site-c97da35a8d8ae04fd81d0c306945ebf9.png" width="672" height="655" class="img_ev3q"></p>
<ul>
<li>AWS S3 buckets<!-- -->
<ul>
<li>1 x PROD, 1 x DEV, (1 x redirect bucket)</li>
</ul>
</li>
<li>CDN Cloudflare<!-- -->
<ul>
<li>provides SSL</li>
<li>cache</li>
</ul>
</li>
<li>Bitbucket repo<!-- -->
<ul>
<li>pipelines for tests &amp; deployment</li>
</ul>
</li>
<li>Jekyll site<!-- -->
<ul>
<li>generates static site content</li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="aws-s3-buckets">AWS S3 Buckets<a href="#aws-s3-buckets" class="hash-link" aria-label="Direct link to AWS S3 Buckets" title="Direct link to AWS S3 Buckets">​</a></h2>
<p>Let&#x27;s look at my S3 bucket setup.</p>
<p>I came across the ability of AWS to <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html" target="_blank" rel="noopener noreferrer">host a static site</a> when studying for my AWS Solution Architect Associate Cert. This worked out well for me because I was using Github pages to host a static content site at the time.</p>
<p>You can walk through a detailed setup via <a href="https://docs.aws.amazon.com/AmazonS3/latest/dev/WebsiteHosting.html" target="_blank" rel="noopener noreferrer">AWS documentation</a>, but I&#x27;ll give a quick overview of the S3 setup</p>
<p><img decoding="async" loading="lazy" alt="s3 buckets" src="/assets/images/myblog-s3buckets-7b110ab5787d3dffaba781f48c5231fe.png" width="699" height="195" class="img_ev3q"></p>
<p>here we have:</p>
<ul>
<li>1 x Public S3 Bucket (cloudbuilder.io) - where all the static content being served will live</li>
<li>1 x Private S3 Bucket (<a href="http://www.cloudbuilder.io" target="_blank" rel="noopener noreferrer">www.cloudbuilder.io</a>) - used to capture and redirect requests to &#x27;www&#x27; back to <a href="https://cloudbuilder.io" target="_blank" rel="noopener noreferrer">https://cloudbuilder.io</a>.</li>
<li>1 x Private Dev Bucket for &quot;development&quot; (more like &#x27;staging&#x27; for reasons I&#x27;ll note later)</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="public-bucket">Public Bucket<a href="#public-bucket" class="hash-link" aria-label="Direct link to Public Bucket" title="Direct link to Public Bucket">​</a></h3>
<p>setting an S3 bucket up to host static content is as simple as going into said bucket, and enabling the <strong>&#x27;static website hosting&#x27;</strong> function:</p>
<p><img decoding="async" loading="lazy" alt="static website" src="/assets/images/myblog-s3statichosting-0c9c48849d17facb87cfdfecd5a9e422.png" width="1022" height="394" class="img_ev3q"></p>
<p>then set your <em>index.html</em> and <em>404.html</em> files</p>
<p><img decoding="async" loading="lazy" alt="public site" src="/assets/images/myblog-publicsite-1edf7fcc1d2162f71a7a759c221dc5ae.png" width="550" height="612" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="redirect-bucket">Redirect Bucket<a href="#redirect-bucket" class="hash-link" aria-label="Direct link to Redirect Bucket" title="Direct link to Redirect Bucket">​</a></h3>
<p>For the redirect bucket, it&#x27;s the same as the public bucket - you enable the static website hosting</p>
<p><img decoding="async" loading="lazy" alt="redirect 1" src="/assets/images/myblog-wwwredirect1-c5bf58ee2e3285e4e09d8afd3195fb28.png" width="1030" height="408" class="img_ev3q"></p>
<p>only you&#x27;re choosing <strong>&#x27;Redirect requests&#x27;</strong> option for this bucket and setting the &#x27;target bucket&#x27; pointing to the public bucket (cloudbuilder.io) and to use <strong>https</strong></p>
<p><img decoding="async" loading="lazy" alt="redirect 2" src="/assets/images/myblog-wwwredirect2-e1aa3e87d5392fbb6949d8f2dd3e8c1e.png" width="552" height="485" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="development-bucket">Development Bucket<a href="#development-bucket" class="hash-link" aria-label="Direct link to Development Bucket" title="Direct link to Development Bucket">​</a></h3>
<p>This bucket is pretty much like the PROD bucket only its <strong>private</strong>. I used this bucket to push from my &#x27;develop&#x27; branch to Bitbucket, which would use the development pipeline to build and push changes to this bucket for me to &quot;preview&quot;. The way to access the bucket while &#x27;private&#x27; was setting a &#x27;Bucket Policy&#x27; to allow my home IP address in:</p>
<ul>
<li>Go to your s3 bucket</li>
<li>&#x27;Permissions&#x27;</li>
<li>&#x27;Bucket Policy&#x27;</li>
</ul>
<p><img decoding="async" loading="lazy" alt="dev bucket policy" src="/assets/images/myblog-devbucketpolicy-1f354c5ad18d5b691eb65010e880d6b4.png" width="686" height="595" class="img_ev3q"></p>
<p>Paste this policy in but change the &quot;aws<!-- -->:SourceIp<!-- -->&quot; to your IP or subnet that includes IPs you want to allow:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Version&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;2012-10-17&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Id&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;S3PolicyId1&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Statement&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Sid&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;IPAllow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Effect&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;Allow&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Principal&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Action&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;s3:*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Resource&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;arn:aws:s3:::dev.cloudbuilder.io/*&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;Condition&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;IpAddress&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                    </span><span class="token property" style="color:rgb(128, 203, 196)">&quot;aws:SourceIp&quot;</span><span class="token operator" style="color:rgb(127, 219, 202)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                        </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;122.56.196.69/24&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                        </span><span class="token string" style="color:rgb(173, 219, 103)">&quot;122.57.165.191/32&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">                </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="content-distribution-network-cdn">Content Distribution Network (CDN)<a href="#content-distribution-network-cdn" class="hash-link" aria-label="Direct link to Content Distribution Network (CDN)" title="Direct link to Content Distribution Network (CDN)">​</a></h2>
<p>I decided to use <a href="http://cloudflare.com" target="_blank" rel="noopener noreferrer">Cloudflare</a> because</p>
<p>a) I needed TLS/SSL for my site in a fairly easy/hands-off manner and</p>
<p>b) they&#x27;re free (for one domain).</p>
<p><a href="http://cloudflare.com" target="_blank" rel="noopener noreferrer">Cloudflare</a> comes with a range of useful functions and capabilities:</p>
<p><img decoding="async" loading="lazy" alt="cloudflare console" src="/assets/images/myblog-cloudflare-f855cfe30b870e251eb2ed033a13db20.png" width="971" height="419" class="img_ev3q"></p>
<p>For cloudbuilder.io cloudflare takes care of:</p>
<ul>
<li>TLS/SSL Server Certificate</li>
<li>DNS</li>
<li>Caching</li>
<li>DDoS Protection</li>
</ul>
<blockquote>
<p>Note about CDNs: A CDN is usually a good idea for a website because it takes the pressure off the origin server by caching objects and serving them at the CDN layer, which depending on where the request is coming from relative to the CDN, improves response times because it&#x27;s closer to the user than the origin server.</p>
</blockquote>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="git-repo-bitbucket">Git Repo (Bitbucket)<a href="#git-repo-bitbucket" class="hash-link" aria-label="Direct link to Git Repo (Bitbucket)" title="Direct link to Git Repo (Bitbucket)">​</a></h2>
<p>Now originally my website repo was over at <a href="https://github.com/ronamosa" target="_blank" rel="noopener noreferrer">Github</a>, but I needed my site to be in a &#x27;private&#x27; repo. Github you had to pay, but <a href="https://bitbucket.org/" target="_blank" rel="noopener noreferrer">Bitbucket</a> has free private repos so I moved my site there.</p>
<p>Nothing out of the ordinary here</p>
<p><img decoding="async" loading="lazy" alt="cloudflare console" src="/assets/images/myblog-bitbucket-e331d926c5aa60e8a1f06e261a0b744d.png" width="833" height="565" class="img_ev3q"></p>
<p>I have a &#x27;master&#x27; branch which is what&#x27;s deployed to the live cloudbuilder.io site. And a &#x27;develop&#x27; branch which, as you would assume, handles all my new changes and latest draft posts I&#x27;m working on.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="pipelines">Pipelines<a href="#pipelines" class="hash-link" aria-label="Direct link to Pipelines" title="Direct link to Pipelines">​</a></h3>
<p>Probably the most interesting thing about my bitbucket repo is the pipelines that &#x27;build&#x27; my static site (i.e. generate the static content via Jekyll). Every time I &#x27;git push&#x27; to my develop branch the &#x27;develop pipeline&#x27; kicks off and builds the static content, and pushes it to the AWS S3 dev.cloudbuilder.io bucket.</p>
<p><img decoding="async" loading="lazy" alt="dev pipeline" src="/assets/images/myblog-devpipeline-b08454f8544056d95a5943fa663f2e59.png" width="1244" height="474" class="img_ev3q"></p>
<p>this is pretty cool, you just include a <code>bitbucket-pipelines.yml</code> file in the root directory of your repo and bitbucket will pick it up and run it under the &#x27;Pipelines&#x27; section.</p>
<p>Essentially the pipeline uses an image to create a container where I create a little Jekyll environment that sucks in my website code and pumps out the static content, which is then &quot;pushed&quot; to my AWS S3 buckets.</p>
<p>This is my <code>bitbucket-pipelines.yml</code> file, few things to note</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token key atrule">image</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> ruby</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">2.4.0</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">pipelines</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">default</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">step</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">        </span><span class="token key atrule">script</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> echo &quot;There is no default step. Try something else..&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">branches</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">master</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">step</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">script</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> echo &quot;&lt;&lt;MASTER /</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">&gt;</span><span class="token plain"> build is running</span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> bundler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">version</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> bundle install</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> JEKYLL_ENV=production jekyll build</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> gem install s3_website</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> apt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">get update</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> apt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">get install </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">assume</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">yes openjdk</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">7</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">jre</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">headless</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> sed </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">i s/BUCKET_NAME/$PROD_BUCKET/g s3_website.yml</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> s3_website push</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">develop</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> </span><span class="token key atrule">step</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> Build DEV</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">caches</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> bundler</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">          </span><span class="token key atrule">script</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> echo &quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">DEVELOP</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> build is running</span><span class="token punctuation" style="color:rgb(199, 146, 234)">...</span><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> bundler </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">version</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> bundle install</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> bundle exec jekyll build </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">config &quot;_config.yml</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">_config.dev.yml&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> gem install s3_website</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> apt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">get update</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> apt</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">get install </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">assume</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">yes openjdk</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">7</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">jre</span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">headless</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> sed </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain">i s/BUCKET_NAME/$DEV_BUCKET/g s3_website.yml</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">            </span><span class="token punctuation" style="color:rgb(199, 146, 234)">-</span><span class="token plain"> s3_website push</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"></span><span class="token key atrule">definitions</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  </span><span class="token key atrule">caches</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    </span><span class="token key atrule">bundler</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> vendor/bundle</span><br></span></code></pre></div></div>
<p>Few things to note:</p>
<ul>
<li>you need to setup environment variables BUCKET_NAME, DEV_BUCKET, PROD_BUCKET in repo settings</li>
<li>&#x27;s3_website&#x27; is a gem module that does the push to your S3 buckets</li>
<li><code>JEKYLL_ENV=production jekyll build</code> is important for your live site - bad things happen in PROD when this isn&#x27;t set.</li>
<li><code>bundle exec jekyll build --config</code> with 2 config yml files, the 2nd file has the &quot;override&quot; values.</li>
</ul>
<p><em>Note: the performance of doing it this way is pretty poor IMO. You&#x27;re building a container with bundler and the s3_website gem, and the generating the content inside that. While its cool and &#x27;automated&#x27;, its pretty overkill for making simple/quick changes to pages and wanting to see what it looks like before committing it to &#x27;master&#x27; aka PROD.</em></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-my-site">Building my site<a href="#building-my-site" class="hash-link" aria-label="Direct link to Building my site" title="Direct link to Building my site">​</a></h2>
<p>Now, given what I&#x27;ve just said about the length of time it takes to run the develop pipeline and preview changes I&#x27;ve made to my site, most of the time I just run my development locally.</p>
<p>I have jekyll installed on my laptop (xubuntu). Have a look <a href="https://jekyllrb.com/docs/installation/" target="_blank" rel="noopener noreferrer">here</a> on how to install it for yourself.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="jekyll">Jekyll<a href="#jekyll" class="hash-link" aria-label="Direct link to Jekyll" title="Direct link to Jekyll">​</a></h3>
<blockquote>
<p>What is Jekyll?
Jekyll is a simple, blog-aware, static site generator.
You create your content as text files (Markdown), and organize them into folders. Then, you build the shell of your site using Liquid-enhanced HTML templates. Jekyll automatically stitches the content and templates together, generating a website made entirely of static assets, suitable for uploading to any server. (from the <a href="https://jekyllrb.com/docs/home/" target="_blank" rel="noopener noreferrer">Jekyll site</a>)</p>
</blockquote>
<p>This is a quick overview of what a &quot;jekyll site&quot; looks like</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">darthvaldr@hx0:~/development/cloudbuilder.io (develop)$ ll</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">total 560</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx--- 16 darthvaldr darthvaldr   4096 Jul 30 01:05 ./</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwxr-x 15 darthvaldr darthvaldr  16384 Jul 23 13:50 ../</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  5 darthvaldr darthvaldr   4096 Aug  4 09:48 assets/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr    634 Mar 20 20:24 banner.js</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr   1592 Apr 13 23:20 bitbucket-pipelines.yml</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  2 darthvaldr darthvaldr   4096 Mar 30 18:49 blog/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rwxrwx---  1 darthvaldr darthvaldr    366 Jul 17 00:02 build_deploy_s3*</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  2 darthvaldr darthvaldr   4096 Mar 30 18:49 _building/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr  56042 Mar 20 20:24 CHANGELOG.md</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr    770 Apr  7 21:27 _config.dev.yml</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr   8379 Mar 30 18:49 _config.yml</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  2 darthvaldr darthvaldr   4096 Mar 30 18:49 _data/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  2 darthvaldr darthvaldr   4096 Jul 29 21:30 _documentation/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  5 darthvaldr darthvaldr   4096 Jul 15 00:21 _drafts/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr     37 Mar 20 20:24 Gemfile</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr   2722 Mar 20 20:24 Gemfile.lock</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  8 darthvaldr darthvaldr   4096 Aug  4 23:31 .git/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr      6 Mar 30 18:49 .gitignore</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  6 darthvaldr darthvaldr   4096 Jun 24 15:14 _includes/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr    423 Mar 20 20:24 index.md</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr 162344 Aug  5 22:12 .jekyll-metadata</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  2 darthvaldr darthvaldr   4096 Mar 20 20:24 _layouts/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr   3478 Mar 20 20:24 LICENSE.txt</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr   1122 Mar 20 20:24 minimal-mistakes-jekyll.gemspec</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-rw-rw----  1 darthvaldr darthvaldr   1132 Mar 20 20:24 package.json</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  2 darthvaldr darthvaldr   4096 Apr  2 13:00 _pages/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  2 darthvaldr darthvaldr   4096 Jul 15 16:48 _posts/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx---  3 darthvaldr darthvaldr   4096 Mar 20 20:24 _sass/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx--- 14 darthvaldr darthvaldr   4096 Mar 30 18:49 .sass-cache/</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">drwxrwx--- 15 darthvaldr darthvaldr   4096 Jul 30 01:05 _site/</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quick-notes">Quick notes<a href="#quick-notes" class="hash-link" aria-label="Direct link to Quick notes" title="Direct link to Quick notes">​</a></h3>
<ul>
<li>posts go under _posts/ directory written in markdown</li>
<li>all other folders starting with a &quot;_&quot; are other &quot;pages&quot; for your site</li>
<li>&quot;assets&quot; folder holds your images, javascript and css files</li>
<li>&quot;_includes/&quot; will be where all the theme type stuff goes - headers, footers, page templates used to populate the static pages.</li>
<li>&quot;_site/&quot; is your static website - when you do a <code>jekyll build</code> it outputs your website into this folder. If you take this folder and host it on a webserver (e.g. /var/www/html/) you&#x27;ll see your website.</li>
</ul>
<p>So to build locally and preview, you run:</p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">bundle exec jekyll serve --increment</span><br></span></code></pre></div></div>
<p>Now you can open a browser and go to <a href="http://localhost:4000" target="_blank" rel="noopener noreferrer">http://localhost:4000</a> to preview the site. Any changes you make to any files will automatically be picked up by jekyll and you can refresh your browser to keep preview your changes as you work.</p>
<iframe width="560" height="315" src="https://www.youtube-nocookie.com/embed/FS7y_rv30wM?rel=0&amp;controls=0&amp;showinfo=0" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen=""></iframe>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-my-site">Deploying my site<a href="#deploying-my-site" class="hash-link" aria-label="Direct link to Deploying my site" title="Direct link to Deploying my site">​</a></h2>
<p>The standard &#x27;CD&#x27; way of deploying my site was via the Bitbucket pipelines which would take my changes, build the static content and then use the s3_website gem module to push the static content up to the S3 buckets.</p>
<p>But my local (probably more practical) method of deploying my site after previewing it locally and being happy with my changes is to run the following script from my local machine which uses the <a href="https://aws.amazon.com/cli/" target="_blank" rel="noopener noreferrer">AWS cli</a> to push my static content up to the S3 buckets directly:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">#!/usr/bin/env bash</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">echo &quot;building site into _site...&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">bundle exec jekyll build</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">echo &quot;deploying _site/ to dev.cloudbuilder.io&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">aws --profile cloudbuilder s3 cp --recursive _site/ s3://dev.cloudbuilder.io</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">echo &quot;deploying to PRODUCTION&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">JEKYLL_ENV=production jekyll build</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">aws --profile cloudbuilder s3 cp --recursive _site/ s3://cloudbuilder.io</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">echo &quot;finished.&quot;</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="quick-notes-1">Quick Notes<a href="#quick-notes-1" class="hash-link" aria-label="Direct link to Quick Notes" title="Direct link to Quick Notes">​</a></h3>
<ul>
<li>you need the aws cli application installed</li>
<li>you need to setup your aws creds in <code>~/.aws/credentials</code> which is also where the <code>--profile cloudbuilder</code> profile is defined.</li>
<li>script just does a &#x27;build&#x27; which puts the static content in &quot;_site/&quot; and then <code>aws</code> cli just copies (cp) this folders contents to the cloud.</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>Making my website an experiment in setting it up like it was a development project in the cloud complete with version control, build and deployment pipelines, a &#x27;development&#x27; site, etc was a good exercise in thinking about it in broader terms than just hosting a website. I haven&#x27;t even got monitoring involved in this which would be another exercise in its own right. Yes, its more maintenance and probably doesn&#x27;t scale too well with this design, but it was a good exercise all the same.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="bonus-improving-website-performance">Bonus: Improving Website Performance<a href="#bonus-improving-website-performance" class="hash-link" aria-label="Direct link to Bonus: Improving Website Performance" title="Direct link to Bonus: Improving Website Performance">​</a></h2>
<p>I use <a href="https://tools.pingdom.com/" target="_blank" rel="noopener noreferrer">Pingdom</a> to scan my site.
<img decoding="async" loading="lazy" alt="pingdom" src="/assets/images/myblog-pingdom-043d01da4a5e3961d0cb26dc44a6d93e.png" width="1075" height="690" class="img_ev3q"></p>
<p>I read the recommendations under &#x27;Performance insights&#x27;</p>
<p><img decoding="async" loading="lazy" alt="pingdom" src="/assets/images/myblog-pingdom-insights-f1532da4b604df0a90cb4194d8a57514.png" width="962" height="677" class="img_ev3q">
I</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="browser-cache-control">browser cache-control<a href="#browser-cache-control" class="hash-link" aria-label="Direct link to browser cache-control" title="Direct link to browser cache-control">​</a></h3>
<p><a href="https://developers.google.com/speed/docs/insights/LeverageBrowserCaching" target="_blank" rel="noopener noreferrer">Google Developers Page for Browser Cach Control</a></p>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">Common max-age values are:</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">One minute: max-age=60</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">One hour: max-age=3600</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">One day: max-age=86400</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">One week: max-age=604800</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">One month: max-age=2628000</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">One year: max-age=31536000</span><br></span></code></pre></div></div>
<p>Need to add some http headers to the objects in my s3 bucket to cache them specifically</p>
<ol>
<li>Sign in to the AWS Management Console and open the Amazon S3 console at <a href="https://console.aws.amazon.com/s3" target="_blank" rel="noopener noreferrer">https://console.aws.amazon.com/s3</a>.</li>
<li>Click on your S3 bucket that hosts your static site</li>
<li>Check the box of the objects or folder where the objects you want to add the cache-control header
<img decoding="async" loading="lazy" alt="s3-bucket" src="/assets/images/myblog-aws-s3-console-bd577d6f8298ee310a04ddcb14fe60ab.png" width="1366" height="768" class="img_ev3q"></li>
<li>Click &#x27;More&#x27; and click &#x27;Change Metadata&#x27;.
<img decoding="async" loading="lazy" alt="aws-s3-console" src="/assets/images/myblog-cache-control1-efe25a7d3956c32216f7ec0dda032fc2.png" width="1366" height="768" class="img_ev3q"></li>
<li>Drop down menu to &#x27;Cache-Control&#x27; and add your value in seconds (image is wrong, value should be &quot;max-age=604800&quot;)</li>
</ol>
<p><code>value: max-age=604800</code></p>
<p><img decoding="async" loading="lazy" alt="aws-s3-console" src="/assets/images/myblog-cache-control2-0f3bb165a656d99ccf28f496ce369d19.png" width="1366" height="768" class="img_ev3q">
6. Select &#x27;Save&#x27; review the next screen
<img decoding="async" loading="lazy" alt="aws-s3-console" src="/assets/images/myblog-cache-control3-874b0f721cccba8f7f218a3a9ff7a4c4.png" width="1366" height="768" class="img_ev3q">
7. Select &#x27;Change&#x27;</p>
<p>Now you&#x27;ve added browser cache-control to cache these objects for one week before it should try fetching new copy from origin.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="note-cloudflare">note: cloudflare<a href="#note-cloudflare" class="hash-link" aria-label="Direct link to note: cloudflare" title="Direct link to note: cloudflare">​</a></h3>
<p>Because I have cloudflare in front of my origin server doing caching, I have to set the &quot;Browser Cache Expiration&quot; setting to <strong>&quot;Respect Existing Headers&quot;</strong> so that what I&#x27;ve set on the s3 bucket objects will be honored by Cloudflare and passed onto the user. See <a href="https://community.cloudflare.com/t/respect-existing-headers-no-cache-headers-sent-from-origin/12068" target="_blank" rel="noopener noreferrer">here</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="test-with-curl">test with curl<a href="#test-with-curl" class="hash-link" aria-label="Direct link to test with curl" title="Direct link to test with curl">​</a></h2>
<div class="language-sh codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-sh codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">darthvaldr@hx0:~ $ curl -I -D -v https://cloudbuilder.io/assets/images/the-cloudbuilder.jpg</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">HTTP/1.1 200 OK</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Date: Sun, 29 Jul 2018 11:46:02 GMT</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Content-Type: image/jpeg</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Content-Length: 879098documentation</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  - howto</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  - infrastructure</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">CF-Cache-Status: EXPIRED</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Expect-CT: max-age=604800, report-uri=&quot;https://report-uri.cloudflare.com/cdn-cgi/beacon/expect-ct&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Server: cloudflare</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">CF-RAY: 441f57b9eccc6575-SYD</span><br></span></code></pre></div></div>
<p>you can see this asset is returning the <code>max-age</code> cache-control setting we set on this particular object.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li><a href="https://stackoverflow.com/questions/42531643/amazon-s3-static-web-hosting-caching" target="_blank" rel="noopener noreferrer">AWS s3 static site cache control: stackoverflow</a></li>
<li><a href="https://varvy.com/pagespeed/cache-control.html" target="_blank" rel="noopener noreferrer">Cache Control values</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ronamosa/ronamosa.github.io/edit/main/website/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2025-09-22T07:31:42.000Z" itemprop="dateModified">Sep 22, 2025</time></b> by <b>Ron Amosa</b></span></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/archive/2018-06-23-Apache-Reverse-Proxy-TLSv1-2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Apache Reverse TLSv1.2 Proxy</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/archive/2019-02-04-Delete-VirtualBox-VM-HDD"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">VirtualBox: Purge deleted hard disks.</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#aws-s3-buckets" class="table-of-contents__link toc-highlight">AWS S3 Buckets</a><ul><li><a href="#public-bucket" class="table-of-contents__link toc-highlight">Public Bucket</a></li><li><a href="#redirect-bucket" class="table-of-contents__link toc-highlight">Redirect Bucket</a></li><li><a href="#development-bucket" class="table-of-contents__link toc-highlight">Development Bucket</a></li></ul></li><li><a href="#content-distribution-network-cdn" class="table-of-contents__link toc-highlight">Content Distribution Network (CDN)</a></li><li><a href="#git-repo-bitbucket" class="table-of-contents__link toc-highlight">Git Repo (Bitbucket)</a><ul><li><a href="#pipelines" class="table-of-contents__link toc-highlight">Pipelines</a></li></ul></li><li><a href="#building-my-site" class="table-of-contents__link toc-highlight">Building my site</a><ul><li><a href="#jekyll" class="table-of-contents__link toc-highlight">Jekyll</a></li><li><a href="#quick-notes" class="table-of-contents__link toc-highlight">Quick notes</a></li></ul></li><li><a href="#deploying-my-site" class="table-of-contents__link toc-highlight">Deploying my site</a><ul><li><a href="#quick-notes-1" class="table-of-contents__link toc-highlight">Quick Notes</a></li></ul></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li><li><a href="#bonus-improving-website-performance" class="table-of-contents__link toc-highlight">Bonus: Improving Website Performance</a><ul><li><a href="#browser-cache-control" class="table-of-contents__link toc-highlight">browser cache-control</a></li><li><a href="#note-cloudflare" class="table-of-contents__link toc-highlight">note: cloudflare</a></li></ul></li><li><a href="#test-with-curl" class="table-of-contents__link toc-highlight">test with curl</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/ron-amosa/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ronamosa/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@uncommonengineer" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Discover</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/docs">Docs</a></li><li class="footer__item"><a class="footer__link-item" href="/about">About</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Last updated on Mon Sep 22 2025</div></div></div></footer></div>
</body>
</html>