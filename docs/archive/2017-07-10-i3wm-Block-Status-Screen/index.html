<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-archive/2017-07-10-i3wm-Block-Status-Screen" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">i3wm (Window Manager) + Blocks + Screencasting | The Uncommon Engineer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://www.uncommonengineer.com/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.uncommonengineer.com/img/social-card.png"><meta data-rh="true" property="og:url" content="https://www.uncommonengineer.com/docs/archive/2017-07-10-i3wm-Block-Status-Screen"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="i3wm (Window Manager) + Blocks + Screencasting | The Uncommon Engineer"><meta data-rh="true" name="description" content="Setup screencasting on your i3wm window manager for Linux."><meta data-rh="true" property="og:description" content="Setup screencasting on your i3wm window manager for Linux."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.uncommonengineer.com/docs/archive/2017-07-10-i3wm-Block-Status-Screen"><link data-rh="true" rel="alternate" href="https://www.uncommonengineer.com/docs/archive/2017-07-10-i3wm-Block-Status-Screen" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.uncommonengineer.com/docs/archive/2017-07-10-i3wm-Block-Status-Screen" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9UFF3RBJQ9-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"i3wm (Window Manager) + Blocks + Screencasting","item":"https://www.uncommonengineer.com/docs/archive/2017-07-10-i3wm-Block-Status-Screen"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="The Uncommon Engineer RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="The Uncommon Engineer Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="The Uncommon Engineer" href="/opensearch.xml">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DMRNTVGLRC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DMRNTVGLRC",{anonymize_ip:!0})</script>

<script src="/js/console-clue.js"></script>
<script src="/js/metricool.js"></script>
<script src="https://subscribe-forms.beehiiv.com/embed.js" async></script><link rel="stylesheet" href="/assets/css/styles.5170efae.css">
<script src="/assets/js/runtime~main.3d5cd519.js" defer="defer"></script>
<script src="/assets/js/main.727d0b4f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/profile.svg" alt="The Uncommon Engineer" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/profile.svg" alt="The Uncommon Engineer" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Uncommon Engineer</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Technical</a><a class="navbar__item navbar__link" href="/blog/">Analysis &amp; Essays</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about/">About</a><a class="navbar__item navbar__link" href="/projects/">Projects</a><a class="navbar__item navbar__link" href="/changelog/">Changelog</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">‚ñ∂ Start Here</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/books/reading-list">üìö Books &amp; Papers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/study/SCS-C01/">üìó Study</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/Ô∏è-hacker">üè¥‚Äç‚ò†Ô∏è Hacker</a><button aria-label="Expand sidebar category &#x27;üè¥‚Äç‚ò†Ô∏è Hacker&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/-engineer">üíª Engineer</a><button aria-label="Expand sidebar category &#x27;üíª Engineer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/archive/docker-wordpress/docker-wordpress-1">üóÉ Archive</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/archive/docker-wordpress/docker-wordpress-1">Docker Wordpress Site</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/archive/terraform-aws-ec2/terraform-aws-1">Terraform AWS EC2</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2016-02-13-Ansible-CreateVMs-Vsphere-free_version">Creating VM&#x27;s using Ansible and ESXi 5.5 Free Version.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP">Setting up a CISCO ASA 5505 VLAN &amp; VPN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2016-03-18-First-Config_CISCO-ASA5505">Initializing a CISCO ASA 5505</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-01-20-Docker-Private-Registry_v1.0">Docker Trusted Registry (private) 1.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-06-09-Docker-volumes-no-such-file-ISSUE">Troubleshooting Docker Volumes errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-06-20-Docker-Jenkins-Pipeline-permission-ISSUES">Troubleshooting Docker issues on a Jenkins Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/archive/2017-07-10-i3wm-Block-Status-Screen">i3wm (Window Manager) + Blocks + Screencasting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-07-18-RaspberryPi-Kali-Reverse-STunnel">Kali Raspberry Pi Reverse Shell (STunnel)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-08-23-FreeNAS-Torrent-Over_OpenVPN">FreeNAS: Using Transmission over OpenVPN (jailed)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-08-25-Windows-SQUID-SSLBUMP">Setting up HTTPS inspection (mitm) with Windows Squid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-09-12-Windows10Pro-RDP-AzureADJoined">RDP to a Azure AD Joined Device</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-09-14-Reset_Win10_Passwd_Vmware_Guest">Reset Windows10 VMWare Guest Password.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-13-Docker_Private_Registry_v2.0">Docker Private Registry 2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-20-NGINX-Centos7-SELinux">NGINX on CentOS 7 with SELinux issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-21-Jenkins_Setup_CentOS7">Setup a Jenkins Server on CentOS 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-22-Ubuntu-Desktop-USB-Thinkpad13">Quick Note - Install Ubuntu 16.04 via bootable USB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-04-13-Docker-Remote-Work-Fortinet">Docker: Fortinet VPN in a container for remote work</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-04-21-Cisco-WAP200-Firmware-Upgrade">Cisco WAP200 Firmware Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-06-23-Apache-Reverse-Proxy-TLSv1-2">Apache Reverse TLSv1.2 Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog">AWS S3 Static Blog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2019-02-04-Delete-VirtualBox-VM-HDD">VirtualBox: Purge deleted hard disks.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-04-27-Install-AWS-eksctl">Install eksctl tool for AWS Elastic Kubernetes Service (EKS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-09-18-EKS-Spot-Instances">EKS with Spot Instances using Terraform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-11-19-Ubiquiti-Home-Network-Part1">Ubiquiti Home Network: Part.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-11-28-Ubiquiti-Home-Network-Part2">Ubiquiti Home Network: Part.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/secret-page">The Unix Programmers Manual</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üóÉ Archive</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">i3wm (Window Manager) + Blocks + Screencasting</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>i3wm (Window Manager) + Blocks + Screencasting</h1></header><p>Setup screencasting on your i3wm window manager for Linux.</p>
<p>Running i3wm can be a bit arduous, but if you like Linux and avoiding bloaty McBloatware setups like Ubuntu then running i3wm and hacking away at things can be very rewarding. In this post I will go over the following tasks to set up:</p>
<ol>
<li>the screencasting script.</li>
<li>the i3 keybinding for stop/start.</li>
<li>the i3 blocks setup for displaying the &quot;record&quot; status in the status bar.</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-screencasting-function">Setup Screencasting Function<a href="#setup-screencasting-function" class="hash-link" aria-label="Direct link to Setup Screencasting Function" title="Direct link to Setup Screencasting Function">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a href="#requirements" class="hash-link" aria-label="Direct link to Requirements" title="Direct link to Requirements">‚Äã</a></h3>
<ul>
<li>Just need <code>ffmpeg</code> installed (<code>$ sudo apt install -y ffmpeg</code>).</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-screencast-script">The Screencast Script<a href="#the-screencast-script" class="hash-link" aria-label="Direct link to The Screencast Script" title="Direct link to The Screencast Script">‚Äã</a></h3>
<p>Put this script somewhere in you <code>$PATH</code></p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">#!/usr/bin/env bash</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"># start|stop screencast</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">set -o errexit</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">set -o pipefail</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">PIDFILE=&quot;$\{HOME}/.screencast.pid&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">OUTFILE=&quot;/tmp/out.avi&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">FINALFILE=&quot;$\{HOME}/Videos/ScreenCasts/screencast--$(date +&#x27;%Y-%m-%d--%H-%M-%S&#x27;).avi&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"># check if this script is already running</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">if [ -s $PIDFILE ] &amp;&amp; [ -d &quot;/proc/$(cat $PIDFILE)&quot; ]; then</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    # send SIG_TERM to screen recorder</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    kill $(cat $PIDFILE)</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    # clear the pidfile</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    rm $PIDFILE</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    # move the screencast into the user&#x27;s video directory</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    mv $OUTFILE $FINALFILE</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">else</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    # screen resolution</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    SCREENRES=$(xrandr -q --current | grep &#x27;*&#x27; | awk &#x27;{print$1}&#x27;)</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    # write to the pidfile</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    echo $$ &gt; $PIDFILE &amp;&amp;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    # let the recording process take over this pid</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">    exec ffmpeg \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -f pulse \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -i default \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -ac 2 \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -acodec vorbis \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -f x11grab \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -r 25 \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -s $\{SCREENRES} \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -i :0.0 \</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">      -vcodec libx264 $\{OUTFILE}</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">fi</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="script-run-down">script run-down<a href="#script-run-down" class="hash-link" aria-label="Direct link to script run-down" title="Direct link to script run-down">‚Äã</a></h3>
<ul>
<li>
<p>When the script is called it checks if the PID file already exists ( <code>if</code> statement looking for file at location $PIDFILE or running process under <code>/proc/</code>) which means its &quot;running&quot; and the current call to it is to STOP.</p>
</li>
<li>
<p>If its running, kill it and remove $PIDFILE and move the temporary recording file to its final resting place under (in this case) <code>$HOME/Videos/</code></p>
</li>
<li>
<p>If its NOT running, we calculate the SCREENRES (several options you can substitute here) and let loose with the recording process (ffmpeg here but you can run anything here) and send that process to $PIDFILE</p>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="i3wm-keybinding-setup">i3wm Keybinding Setup<a href="#i3wm-keybinding-setup" class="hash-link" aria-label="Direct link to i3wm Keybinding Setup" title="Direct link to i3wm Keybinding Setup">‚Äã</a></h2>
<p>In your <code>~/.i3/config</code> file make sure to have the following:</p>
<p>set your &#x27;screencast&#x27; variable to point to the script you setup in step #1</p>
<p><code>set $screencast bash ~/scripts/screencast</code></p>
<p>then create your keybinding to execute (start/stop) your screencast script:</p>
<p><code>bindsym $mod+Shift+s    exec $screencast</code></p>
<p>note: this (for me) does <code>WindowsKey + Shift + s</code></p>
<p>you&#x27;ll need to restart i3wm for these changes to take effect (my reload keybinding is <code>WindowsKey + Shift + r</code>)</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="i3blocks-status-bar-setup">i3blocks Status Bar Setup<a href="#i3blocks-status-bar-setup" class="hash-link" aria-label="Direct link to i3blocks Status Bar Setup" title="Direct link to i3blocks Status Bar Setup">‚Äã</a></h2>
<p>You&#x27;ll need to already have i3blocks setup, I might write something up on it another time, for now, if you have it working already, this section will just show you what I did to ensure when I hit my keybinding a &#x27;record&#x27; notification would show up and disappear when recording was happening.</p>
<p>In your <code>~/.i3/i3blocks.conf</code> check the following sections are as follows:</p>
<p>globlal properties</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">command=~/.i3/blocks/$BLOCK_NAME</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">separator_block_width=15</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">markup=none</span><br></span></code></pre></div></div>
<p>screencast entry:</p>
<div class="language-ini codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-ini codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">[record]</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">label=ÔÄΩ</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">interval=2</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">color=#FF0000</span><br></span></code></pre></div></div>
<p>note: set whatever label, interval, color you want <strong>but</strong> the word you use between the &#x27;[]&#x27; <strong>must</strong> match the next section.</p>
<p>following the global properties directive, your screencast &#x27;command&#x27; must live in <code>~/.i3/blocks/</code>, and the $BLOCK_NAME will be, in line with my example, called &#x27;record&#x27;</p>
<p>so, file <code>~/.i3/blocks/record</code> will have the following:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">#!/usr/bin/env bash</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">set -o errexit</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">set -o pipefail</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"># check screencast PID</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">PIDFILE=&quot;$\{HOME}/.screencast.pid&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">if [[ -e &quot;$\{PIDFILE}&quot; ]]; then</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  echo &quot;RECORD&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  echo &quot;RECORD&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  echo &quot;&quot;</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">fi</span><br></span></code></pre></div></div>
<p>sets the PIDFILE location to look for, then check it if exists (-e). i3blocks will capture this status and activate the icon set in the &#x27;label&#x27; for this entry in i3blocks.conf, and then show it in the status bar like this (when you press your keybinding combo once):
<img decoding="async" loading="lazy" alt="i3blocks-record-on" src="/assets/images/i3blocks-status-on-d5da1fc59798cf377e6d70dc496e89ed.png" width="838" height="19" class="img_ev3q"></p>
<p>pressing your keybinding combo again will turn record OFF:
<img decoding="async" loading="lazy" alt="i3blocks-record-off" src="/assets/images/i3blocks-status-off-c14a1fca1adf604adeedcfb7f3384dc1.png" width="750" height="20" class="img_ev3q"></p>
<p>and you should find a new screencast video in your ~/Videos/ScreenCast folder (or wherever you set it in the screencast script above):
<img decoding="async" loading="lazy" alt="i3blocks-new-video" src="/assets/images/i3blocks-new-video-0d6b2b9d86b402bf25a3be00fe1a1f4c.png" width="666" height="65" class="img_ev3q"></p>
<p>That&#x27;s it! Enjoy and contact me if you have any questions I&#x27;ll do my best to answer or find an answer for you :).</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ronamosa/ronamosa.github.io/edit/main/website/docs/archive/2017-07-10-i3wm-Block-Status-Screen.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-02-20T20:05:57.000Z" itemprop="dateModified">Feb 20, 2026</time></b> by <b>Ron Amosa</b></span></div></div></footer><div class="newsletterCta_rTTm"><p><span class="emoji_bVKv">üì¨</span> I also write a fortnightly newsletter ‚Äî my thoughts on the machines that educate, empower, and exploit our society.<!-- --> <a href="/subscribe">Subscribe here.</a></p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/archive/2017-06-20-Docker-Jenkins-Pipeline-permission-ISSUES"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Troubleshooting Docker issues on a Jenkins Pipeline</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/archive/2017-07-18-RaspberryPi-Kali-Reverse-STunnel"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Kali Raspberry Pi Reverse Shell (STunnel)</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setup-screencasting-function" class="table-of-contents__link toc-highlight">Setup Screencasting Function</a><ul><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#the-screencast-script" class="table-of-contents__link toc-highlight">The Screencast Script</a></li><li><a href="#script-run-down" class="table-of-contents__link toc-highlight">script run-down</a></li></ul></li><li><a href="#i3wm-keybinding-setup" class="table-of-contents__link toc-highlight">i3wm Keybinding Setup</a></li><li><a href="#i3blocks-status-bar-setup" class="table-of-contents__link toc-highlight">i3blocks Status Bar Setup</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/ron-amosa/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ronamosa/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@uncommonengineer" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Discover</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Analysis &amp; Essays</a></li><li class="footer__item"><a class="footer__link-item" href="/docs">Technical</a></li><li class="footer__item"><a class="footer__link-item" href="/about">About</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Last updated on Fri Feb 20 2026</div></div></div></footer></div>
</body>
</html>