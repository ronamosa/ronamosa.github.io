<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-archive/2016-03-01-CISCO-ASA-VLAN-SETUP" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Setting up a CISCO ASA 5505 VLAN &amp; VPN | The Uncommon Engineer</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" property="og:image" content="https://www.uncommonengineer.com/img/social-card.png"><meta data-rh="true" name="twitter:image" content="https://www.uncommonengineer.com/img/social-card.png"><meta data-rh="true" property="og:url" content="https://www.uncommonengineer.com/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Setting up a CISCO ASA 5505 VLAN &amp; VPN | The Uncommon Engineer"><meta data-rh="true" name="description" content="Setup basic 2 party VLAN (inside, outside) to my ASA can play MITM between an xDSL router and the internal network of desktops. also try to use security best practice with respect to CISCO networking devices i.e. dont use default vlan, and a few other basic things i know."><meta data-rh="true" property="og:description" content="Setup basic 2 party VLAN (inside, outside) to my ASA can play MITM between an xDSL router and the internal network of desktops. also try to use security best practice with respect to CISCO networking devices i.e. dont use default vlan, and a few other basic things i know."><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://www.uncommonengineer.com/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP"><link data-rh="true" rel="alternate" href="https://www.uncommonengineer.com/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP" hreflang="en"><link data-rh="true" rel="alternate" href="https://www.uncommonengineer.com/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://9UFF3RBJQ9-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Setting up a CISCO ASA 5505 VLAN & VPN","item":"https://www.uncommonengineer.com/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP"}]}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="The Uncommon Engineer RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="The Uncommon Engineer Atom Feed">




<link rel="search" type="application/opensearchdescription+xml" title="The Uncommon Engineer" href="/opensearch.xml">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-DMRNTVGLRC"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-DMRNTVGLRC",{anonymize_ip:!0})</script>

<script src="/js/console-clue.js"></script>
<script src="/js/metricool.js"></script>
<script src="https://subscribe-forms.beehiiv.com/embed.js" async></script><link rel="stylesheet" href="/assets/css/styles.5170efae.css">
<script src="/assets/js/runtime~main.3d5cd519.js" defer="defer"></script>
<script src="/assets/js/main.727d0b4f.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="dark";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/profile.svg" alt="The Uncommon Engineer" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/profile.svg" alt="The Uncommon Engineer" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Uncommon Engineer</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/">Technical</a><a class="navbar__item navbar__link" href="/blog/">Analysis &amp; Essays</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/about/">About</a><a class="navbar__item navbar__link" href="/projects/">Projects</a><a class="navbar__item navbar__link" href="/changelog/">Changelog</a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/">‚ñ∂ Start Here</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/books/reading-list">üìö Books &amp; Papers</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/study/SCS-C01/">üìó Study</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/Ô∏è-hacker">üè¥‚Äç‚ò†Ô∏è Hacker</a><button aria-label="Expand sidebar category &#x27;üè¥‚Äç‚ò†Ô∏è Hacker&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed red"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/-engineer">üíª Engineer</a><button aria-label="Expand sidebar category &#x27;üíª Engineer&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/archive/docker-wordpress/docker-wordpress-1">üóÉ Archive</a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/archive/docker-wordpress/docker-wordpress-1">Docker Wordpress Site</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/docs/archive/terraform-aws-ec2/terraform-aws-1">Terraform AWS EC2</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2016-02-13-Ansible-CreateVMs-Vsphere-free_version">Creating VM&#x27;s using Ansible and ESXi 5.5 Free Version.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP">Setting up a CISCO ASA 5505 VLAN &amp; VPN</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2016-03-18-First-Config_CISCO-ASA5505">Initializing a CISCO ASA 5505</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-01-20-Docker-Private-Registry_v1.0">Docker Trusted Registry (private) 1.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-06-09-Docker-volumes-no-such-file-ISSUE">Troubleshooting Docker Volumes errors</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-06-20-Docker-Jenkins-Pipeline-permission-ISSUES">Troubleshooting Docker issues on a Jenkins Pipeline</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-07-10-i3wm-Block-Status-Screen">i3wm (Window Manager) + Blocks + Screencasting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-07-18-RaspberryPi-Kali-Reverse-STunnel">Kali Raspberry Pi Reverse Shell (STunnel)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-08-23-FreeNAS-Torrent-Over_OpenVPN">FreeNAS: Using Transmission over OpenVPN (jailed)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-08-25-Windows-SQUID-SSLBUMP">Setting up HTTPS inspection (mitm) with Windows Squid</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-09-12-Windows10Pro-RDP-AzureADJoined">RDP to a Azure AD Joined Device</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-09-14-Reset_Win10_Passwd_Vmware_Guest">Reset Windows10 VMWare Guest Password.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-13-Docker_Private_Registry_v2.0">Docker Private Registry 2.0</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-20-NGINX-Centos7-SELinux">NGINX on CentOS 7 with SELinux issues</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-21-Jenkins_Setup_CentOS7">Setup a Jenkins Server on CentOS 7</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2017-10-22-Ubuntu-Desktop-USB-Thinkpad13">Quick Note - Install Ubuntu 16.04 via bootable USB</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-04-13-Docker-Remote-Work-Fortinet">Docker: Fortinet VPN in a container for remote work</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-04-21-Cisco-WAP200-Firmware-Upgrade">Cisco WAP200 Firmware Upgrade</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-06-23-Apache-Reverse-Proxy-TLSv1-2">Apache Reverse TLSv1.2 Proxy</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2018-07-29-Building-my-AWS-s3-jekyll-blog">AWS S3 Static Blog</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2019-02-04-Delete-VirtualBox-VM-HDD">VirtualBox: Purge deleted hard disks.</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-04-27-Install-AWS-eksctl">Install eksctl tool for AWS Elastic Kubernetes Service (EKS)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-09-18-EKS-Spot-Instances">EKS with Spot Instances using Terraform</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-11-19-Ubiquiti-Home-Network-Part1">Ubiquiti Home Network: Part.1</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/2020-11-28-Ubiquiti-Home-Network-Part2">Ubiquiti Home Network: Part.2</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/archive/secret-page">The Unix Programmers Manual</a></li></ul></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">üóÉ Archive</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Setting up a CISCO ASA 5505 VLAN &amp; VPN</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Setting up a CISCO ASA 5505 VLAN &amp; VPN</h1></header><p>Setup basic 2 party VLAN (inside, outside) to my ASA can play MITM between an xDSL router and the internal network of desktops. also try to use security best practice with respect to CISCO networking devices i.e. dont use default vlan, and a few other basic things i know.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="cisco-adaptive-security-device-manager-asdm">Cisco Adaptive Security Device Manager (ASDM)<a href="#cisco-adaptive-security-device-manager-asdm" class="hash-link" aria-label="Direct link to Cisco Adaptive Security Device Manager (ASDM)" title="Direct link to Cisco Adaptive Security Device Manager (ASDM)">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>ASDM Setup Issues</div><div class="admonitionContent_BuS1"><p><strong>Note:</strong> wanted to set this up as most CISCO documentation relies on this guy to make config easier.. but f##k me just getting java and browsers to figure it the f##k out was f##king tedious! and then trying to get these EOL application images from the CISCO download site requires a customer contract. sure, maybe its out of date and you guys dont want to be responsible for it, i&#x27;d just be happy to get a copy of the software anyway and sign a waiver. long story short, CISCO outside of being a corp customer w/ an account = waste of time.</p></div></div>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">hostname(config)# crypto key generate rsa modulus 1024 # generate crypto keys for HTTPS</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">hostname(config)# write mem</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">hostname(config)# http server enable # turn http server on</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">hostname(config)# http 10.0.1.0 255.255.255.0 inside # all 10.0.1.x users can hit it from the inside.</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-vlan-10--20">Setup VLAN 10 &amp; 20<a href="#setup-vlan-10--20" class="hash-link" aria-label="Direct link to Setup VLAN 10 &amp; 20" title="Direct link to Setup VLAN 10 &amp; 20">‚Äã</a></h2>
<ul>
<li>VLAN 10 is the &quot;inside&quot; network</li>
<li>VLAN 20 is the &quot;outside&quot; network</li>
</ul>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN# conf t</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# interface vlan 10</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# nameif inside</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">INFO: Security level for &quot;inside&quot; set to 100 by default.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# ip address 10.0.1.1 255.255.255.0</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# no shut</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# interface vlan 20</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# nameif outside</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">INFO: Security level for &quot;outside&quot; set to 0 by default.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# ip address dhcp</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# no shut</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="switchport-access-vlan-all-interfaces">SWITCHPORT ACCESS VLAN all interfaces<a href="#switchport-access-vlan-all-interfaces" class="hash-link" aria-label="Direct link to SWITCHPORT ACCESS VLAN all interfaces" title="Direct link to SWITCHPORT ACCESS VLAN all interfaces">‚Äã</a></h2>
<p>move et0/0 to the outside vlan, and the rest of the interfaces to the inside (vlan 10)</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# switchport access vlan 10</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# int et0/2</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# switchport access vlan 10</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# int et0/3</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# switchport access vlan 10</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# int et0/4</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# switchport access vlan 10</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# int et0/5</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# switchport access vlan 10</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# int et0/6</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# switchport access vlan 10</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# int et0/7</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config-if)# switchport access vlan 10</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="enable-the-http-server">Enable the HTTP server<a href="#enable-the-http-server" class="hash-link" aria-label="Direct link to Enable the HTTP server" title="Direct link to Enable the HTTP server">‚Äã</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# http server enable</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"># option 1 - anyone from anywhere can hit the ASDM</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# http 0.0.0.0 0.0.0.0 outside</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# http 0.0.0.0 0.0.0.0 inside</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"># option 2 - only people from the &quot;inside&quot; network can hit ASDM</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# http 10.0.1.0 255.255.255.0 inside</span><br></span></code></pre></div></div>
<p>make sure you asdm file exists and configured in config file</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN# sh flash</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Initializing disk0: cache, please wait.......Done.</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">-#- --length-- -----date/time------ path</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  6 8515584    Feb 21 2009 13:12:28 asa724-k8.bin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  7 4181246    Feb 21 2009 13:12:50 securedesktop-asa-3.2.1.103-k9.pkg</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  8 398305     Feb 21 2009 13:13:06 sslclient-win-1.1.0.154.pkg</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">  9 6514852    Feb 21 2009 13:13:54 asdm-524.bin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"> 12 0          Aug 10 2010 23:39:42 crypto_archive</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"> 13 393696     Aug 10 2010 23:39:42 crypto_archive/crypto_arch_1.bin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"> 14 14635008   Apr 13 2009 13:07:34 asa803-k8.bin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain"> 15 6851212    Apr 13 2009 13:08:28 asdm-603.bin</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# asdm image disk0:/asdm-603.bin</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p><em>asdm gave me the &#x27;error 404 /admin/index.html not found&#x27; grief for asdm-603.bin so i tried <code>VPN(config)# asdm image disk0:/asdm-524.bin</code> instead and was able to get the right page to load.</em></p></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-dhcpd-for-inside">Setup DHCPD for &quot;inside&quot;<a href="#setup-dhcpd-for-inside" class="hash-link" aria-label="Direct link to Setup DHCPD for &quot;inside&quot;" title="Direct link to Setup DHCPD for &quot;inside&quot;">‚Äã</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# dhcpd address 10.0.1.101-10.0.1.110 inside</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# dhcpd enable inside</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setup-ssh">Setup SSH<a href="#setup-ssh" class="hash-link" aria-label="Direct link to Setup SSH" title="Direct link to Setup SSH">‚Äã</a></h2>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# crypto key generate rsa modulus 2048</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">Keypair generation process begin. Please wait...</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# ssh 10.0.1.0 255.255.255.0 inside</span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# aaa authentication ssh console LOCAL</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a href="#troubleshooting" class="hash-link" aria-label="Direct link to Troubleshooting" title="Direct link to Troubleshooting">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-unable-to-negotiate-with-10011-port-22-no-matching-key-exchange-method-found-their-offer-diffie-hellman-group1-sha1">Error: Unable to negotiate with 10.0.1.1 port 22: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1<a href="#error-unable-to-negotiate-with-10011-port-22-no-matching-key-exchange-method-found-their-offer-diffie-hellman-group1-sha1" class="hash-link" aria-label="Direct link to Error: Unable to negotiate with 10.0.1.1 port 22: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1" title="Direct link to Error: Unable to negotiate with 10.0.1.1 port 22: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1">‚Äã</a></h3>
<p><strong>Why</strong>: cos sha1</p>
<p><strong>Fix (temporary)</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">ssh -oKexAlgorithms=+diffie-hellman-group1-sha1 username@10.0.1.1</span><br></span></code></pre></div></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="error-debug-logs-on-asa-user-authen-method-is-no-aaa-aaa-server-group-id--0-ssh2-0-authentication-failed-for-username">Error: (debug logs on ASA) user authen method is &#x27;no AAA&#x27;, aaa server group ID = 0 SSH2 0: authentication failed for username<a href="#error-debug-logs-on-asa-user-authen-method-is-no-aaa-aaa-server-group-id--0-ssh2-0-authentication-failed-for-username" class="hash-link" aria-label="Direct link to Error: (debug logs on ASA) user authen method is &#x27;no AAA&#x27;, aaa server group ID = 0 SSH2 0: authentication failed for username" title="Direct link to Error: (debug logs on ASA) user authen method is &#x27;no AAA&#x27;, aaa server group ID = 0 SSH2 0: authentication failed for username">‚Äã</a></h3>
<p><strong>Why</strong>: no AAA setup on ASA</p>
<p><strong>Fix</strong>:</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#d6deeb;--prism-background-color:#011627"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#d6deeb;background-color:#011627"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#d6deeb"><span class="token plain">VPN(config)# aaa authentication ssh console LOCAL</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">‚Äã</a></h2>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><ul>
<li><a href="http://www.cisco.com/c/en/us/td/docs/security/asa/asa82/configuration/guide/config/access_management.html#wp1066334" target="_blank" rel="noopener noreferrer">CISCO ASA Management Access</a></li>
<li><a href="http://www.cisco.com/c/en/us/td/docs/security/asa/asa83/configuration/guide/config/admin_trouble.html#wp1134357" target="_blank" rel="noopener noreferrer">CISCO ASA Configuration Reference</a></li>
</ul></div></div></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ronamosa/ronamosa.github.io/edit/main/website/docs/archive/2016-03-01-CISCO-ASA-VLAN-SETUP.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"><span class="theme-last-updated">Last updated<!-- --> on <b><time datetime="2026-02-20T20:05:57.000Z" itemprop="dateModified">Feb 20, 2026</time></b> by <b>Ron Amosa</b></span></div></div></footer><div class="newsletterCta_rTTm"><p><span class="emoji_bVKv"> üì¨</span> I also write a fortnightly newsletter ‚Äî my thoughts on the machines that educate, empower, and exploit our society.<!-- --> <a href="/subscribe">Subscribe here.</a></p></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/archive/2016-02-13-Ansible-CreateVMs-Vsphere-free_version"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Creating VM&#x27;s using Ansible and ESXi 5.5 Free Version.</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/archive/2016-03-18-First-Config_CISCO-ASA5505"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Initializing a CISCO ASA 5505</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#cisco-adaptive-security-device-manager-asdm" class="table-of-contents__link toc-highlight">Cisco Adaptive Security Device Manager (ASDM)</a></li><li><a href="#setup-vlan-10--20" class="table-of-contents__link toc-highlight">Setup VLAN 10 &amp; 20</a></li><li><a href="#switchport-access-vlan-all-interfaces" class="table-of-contents__link toc-highlight">SWITCHPORT ACCESS VLAN all interfaces</a></li><li><a href="#enable-the-http-server" class="table-of-contents__link toc-highlight">Enable the HTTP server</a></li><li><a href="#setup-dhcpd-for-inside" class="table-of-contents__link toc-highlight">Setup DHCPD for &quot;inside&quot;</a></li><li><a href="#setup-ssh" class="table-of-contents__link toc-highlight">Setup SSH</a></li><li><a href="#troubleshooting" class="table-of-contents__link toc-highlight">Troubleshooting</a><ul><li><a href="#error-unable-to-negotiate-with-10011-port-22-no-matching-key-exchange-method-found-their-offer-diffie-hellman-group1-sha1" class="table-of-contents__link toc-highlight">Error: Unable to negotiate with 10.0.1.1 port 22: no matching key exchange method found. Their offer: diffie-hellman-group1-sha1</a></li><li><a href="#error-debug-logs-on-asa-user-authen-method-is-no-aaa-aaa-server-group-id--0-ssh2-0-authentication-failed-for-username" class="table-of-contents__link toc-highlight">Error: (debug logs on ASA) user authen method is &#39;no AAA&#39;, aaa server group ID = 0 SSH2 0: authentication failed for username</a></li></ul></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Connect</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://www.linkedin.com/in/ron-amosa/" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/ronamosa/" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@uncommonengineer" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Discover</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Analysis &amp; Essays</a></li><li class="footer__item"><a class="footer__link-item" href="/docs">Technical</a></li><li class="footer__item"><a class="footer__link-item" href="/about">About</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Last updated on Fri Feb 20 2026</div></div></div></footer></div>
</body>
</html>