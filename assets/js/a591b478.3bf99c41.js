"use strict";(self.webpackChunkronamosa_github_io=self.webpackChunkronamosa_github_io||[]).push([[94724],{3623:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>a,contentTitle:()=>o,default:()=>u,frontMatter:()=>c,metadata:()=>i,toc:()=>l});const i=JSON.parse('{"id":"study/SCS-C01/D3-InfrastructureSecurity","title":"Domain 3 - Infrastructure Security","description":"This is an export from my Remnote with flashcard syntax included.","source":"@site/docs/study/SCS-C01/D3-InfrastructureSecurity.md","sourceDirName":"study/SCS-C01","slug":"/study/SCS-C01/D3-InfrastructureSecurity","permalink":"/docs/study/SCS-C01/D3-InfrastructureSecurity","draft":false,"unlisted":false,"editUrl":"https://github.com/ronamosa/ronamosa.github.io/edit/main/website/docs/study/SCS-C01/D3-InfrastructureSecurity.md","tags":[],"version":"current","lastUpdatedBy":"Ron Amosa","lastUpdatedAt":1771617957000,"frontMatter":{"title":"Domain 3 - Infrastructure Security"},"sidebar":"docsSidebar","previous":{"title":"Domain 2 - Logging and Monitoring","permalink":"/docs/study/SCS-C01/D2-LoggingMonitoring"},"next":{"title":"Domain 4 - Identity and Access Management","permalink":"/docs/study/SCS-C01/D4-IdentityAccessManagement"}}');var t=s(74848),r=s(28453);const c={title:"Domain 3 - Infrastructure Security"},o=void 0,a={},l=[];function d(e){const n={admonition:"admonition",code:"code",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.admonition,{type:"info",children:(0,t.jsx)(n.p,{children:"This is an export from my Remnote with flashcard syntax included."})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Infrastructure Security","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["You can configure AWS Config ",(0,t.jsx)(n.code,{children:"\\{\\{Multi\\}\\}"}),"-Account ",(0,t.jsx)(n.code,{children:"\\{\\{Multi\\}\\}"}),"-Region Data ",(0,t.jsx)(n.code,{children:"\\{\\{Aggregator\\}\\}"})," to review configurations of your secrets across all accounts and ",(0,t.jsx)(n.code,{children:"\\{\\{regions\\}\\}"})," in your organization, and then review your secret ",(0,t.jsx)(n.code,{children:"\\{\\{configurations\\}\\}"})," and compare to secrets ",(0,t.jsx)(n.code,{children:"\\{\\{management\\}\\}"})," best practices."]}),"\n",(0,t.jsxs)(n.li,{children:["If you see  ",(0,t.jsx)(n.strong,{children:(0,t.jsx)(n.strong,{children:'"dedicated storage with lifecycle management and key rotation."'})}),"  think..?\u2192AWS Secrets Manager"]}),"\n",(0,t.jsxs)(n.li,{children:["Amazon GuardDuty","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["users from a master account ",(0,t.jsx)(n.code,{children:"\\{\\{can\\}\\}"})," upload and further manage trusted IP lists and threat lists in their ",(0,t.jsx)(n.code,{children:"\\{\\{own\\}\\}"})," account."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["AWS Service Catalog","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"safely launch products by end users by applying what to individual products in a portfolio?\u2192launch constraints."}),"\n",(0,t.jsx)(n.li,{children:"without a launch constraint, user end up launching and managing products using which IAM credentials?\u2192their own."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Can a salted HMAC value be used to derive encryption keys or decrypt things?\u2192No. It's just used to validate future encryption requests."}),"\n",(0,t.jsx)(n.li,{children:"can an s3 bucket policy restrict access to private IPs?\u2192No. only specific public and elastic IPs."}),"\n",(0,t.jsx)(n.li,{children:"if I need a direct and private (non public internet) connection to s3 e.g. to bypass a possible compromised app situation (involving proxy) without disrupting the apps other calls, what endpoint should I use?\u2192VPC Gateway Endpoint."}),"\n",(0,t.jsxs)(n.li,{children:["If you have to choose between AWS Secrets Manager and AWS Systems Manager Parameter Store for storing secrets but need  ",(0,t.jsx)(n.strong,{children:'"dedicated storage with lifecycle management and key rotation"'})," , which one should you use?\u2192AWS Secrets Manager."]}),"\n",(0,t.jsxs)(n.li,{children:["least complex way of organising and managing multiple AWS accounts? \u2193","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"AWS Organisations"}),"\n",(0,t.jsx)(n.li,{children:"SCPs"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"if you need full end-to-end unbroken encryption only terminating on the backend EC2, what Load Balancer gives you this?\u2192Network Load Balancer (NLB)"}),"\n",(0,t.jsx)(n.li,{children:"VPC Endpoints are secure non-internet connections, you have VPC Interface Endpoints and VPC Gateway Endpoints - which one is charged per hour?\u2192VPC Interface Endpoint"}),"\n",(0,t.jsx)(n.li,{children:"which VPC Endpoint is free?\u2192VPC Gateway Endpoint."}),"\n",(0,t.jsxs)(n.li,{children:["Any question needing to verify i.e. capture and analyse network traffic (e.g. check that configs are working properly) in an S3 bucket, look out for these two services \u2193","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"VPC Flow Logs"}),"\n",(0,t.jsx)(n.li,{children:"Amazon Athena (query & analyse logs)"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"Can you use an EC2 Instance Profile on a Lambda function?\u2192No. Use an IAM Role for execution."}),"\n",(0,t.jsx)(n.li,{children:"what service can you use to track and audit an IAM User permission changes, and at specific times?\u2192AWS Config"}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"VPC Security"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["What service gives you IDS and can perform deep packet inspection at the VPC level?\u2192AWS Network Firewall","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Can AWS Network Firewall pass through only known AWS services like Amazon S3?\u2192Yes."}),"\n",(0,t.jsx)(n.li,{children:"Can AWS Network Firewall use custom lists of known bad domains to limit access?\u2192Yes."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.strong,{children:"OAI (Origin Access Identity)"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Valid Principal: ",(0,t.jsx)(n.code,{children:'"Principal": {   "``\\{\\{'}),"CanonicalUser",(0,t.jsx)(n.code,{children:'\\}\\}``": "79a59df900b949e55d96a1e698fbacedfd6e09d98eacf8f8d5218e7cd47ef2be" }'})]}),"\n",(0,t.jsxs)(n.li,{children:["If you see ",(0,t.jsx)(n.code,{children:"Principal"})," and ",(0,t.jsx)(n.code,{children:"CanonicalUser"})," use the ",(0,t.jsx)(n.code,{children:"\\{\\{Canonical\\}\\}"})," ",(0,t.jsx)(n.code,{children:"\\{\\{User\\}\\}"})," ID"]}),"\n",(0,t.jsxs)(n.li,{children:["Valid Principal: ",(0,t.jsx)(n.code,{children:'"Principal": {   "``\\{\\{'}),"AWS",(0,t.jsx)(n.code,{children:'\\}\\}``": "arn:aws:iam::cloudfront:user/CloudFront Origin Access Identity EH1HDMB1FH2TC" }'})]}),"\n",(0,t.jsxs)(n.li,{children:["If you see ",(0,t.jsx)(n.code,{children:"Principal"}),"and ",(0,t.jsx)(n.code,{children:"AWS"}),"use the ",(0,t.jsx)(n.code,{children:"\\{\\{Origin\\}\\}"})," ",(0,t.jsx)(n.code,{children:"\\{\\{Access\\}\\}"})," ID"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["AWS Certificate Manager Private Certificate Authority is a ",(0,t.jsx)(n.code,{children:"\\{\\{managed\\}\\}"})," private CA service that ",(0,t.jsx)(n.code,{children:"\\{\\{extends\\}\\}"})," ACM certificate management to ",(0,t.jsx)(n.code,{children:"\\{\\{private\\}\\}"})," certificates."]}),"\n",(0,t.jsx)(n.li,{children:"If you are tasked with managing AWS WAF, AWS Shield Advanced, and Amazon VPC security groups, and multiple accounts, use...?\u2192AWS Firewall Manager."}),"\n",(0,t.jsxs)(n.li,{children:["where can you IMPORT a SSL/TLS certificate INTO?\u2193 \u2193","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Amazon Certificate Manager (ACM)"}),"\n",(0,t.jsx)(n.li,{children:"IAM Certificate Store."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["What services can offer SSL/TLS cipher suites for Perfect Forward Security? \u2193","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Amazon CloudFront"}),"\n",(0,t.jsx)(n.li,{children:"Elastic Load Balancers"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["IAM Policy Access","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["if users in account A need access to service in account B you create an IAM Role in account ",(0,t.jsx)(n.code,{children:"\\{\\{B\\}\\}"}),", and allow users in account ",(0,t.jsx)(n.code,{children:"\\{\\{A\\}\\}"})," to assume that Role."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Amazon CloudFront","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["when creating HTTPS from client \u21d2 CDN \u21d2 origin, how many certificates are always created?\u21922 - one in ",(0,t.jsx)(n.code,{children:"us-east-1"})," for CloudFront, and one in the Region your origin is."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["If you have ENI issues that are behind an ALB, and all networking configs are correct e.g. NACL, SG's, what other things to check?\u2193 \u2193","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"ENI's are properly mapped to SG's"}),"\n",(0,t.jsx)(n.li,{children:"instance ENI's attached to are registered to a ALB target group."}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["Hybrid on-prem & AWS, DNSSEC setup","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["how do you prevent AWS resources using the VPC DNS service and use the DNSSEC setup instead?\u2192set ",(0,t.jsx)(n.code,{children:"enableDnsHostnames"})," and ",(0,t.jsx)(n.code,{children:"enableDnsSupport"})," to false in the VPC."]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"what can you use to check for unintended network accessibility from your instances?\u2192AWS Security Hub."}),"\n",(0,t.jsx)(n.li,{children:"Can you use AWS Systems Manager State Manager to access your remote instances?\u2192No. Use AWS Systems Manager Session Manager."}),"\n",(0,t.jsx)(n.li,{children:"How can you inject HTTP security headers to traffic going through CloudFront inbound to Lambda Functions?\u2192Add them to Lambda@Edge & CloudFront."}),"\n",(0,t.jsx)(n.li,{children:"If you find users are changing configs without permission, what service can assess and evaluate these configs continuously for you?\u2192AWS Config."}),"\n",(0,t.jsx)(n.li,{children:"What can you use to stop S3 objects being accessed directly and lock it down to accept from CloudFront only?\u2192Use OAI"}),"\n",(0,t.jsx)(n.li,{children:"if you've setup custom NACL inbound for your application on the correct ports, and you're still not able to connect, what should you check for?\u2192that ephemeral ports are allowed OUTBOUND from your NACL."}),"\n",(0,t.jsxs)(n.li,{children:['if you see "common web vulnerabilities" and "DDoS" protection, what services should you look for? \u2193',"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"AWS WAF"}),"\n",(0,t.jsx)(n.li,{children:"AWS Shield Advanced"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["What TWO policy types to restrict S3 bucket to authorised users only? \u2193","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Bucket Policy (for the resources)"}),"\n",(0,t.jsx)(n.li,{children:"IAM Policy (for the users)"}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["If you need an HSM that runs INSIDE a VPC and available across multiple AZ's what should you use?\u2192AWS CloudHSM.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Why not AWS KMS?\u2192AWS KMS is a service you access via API, it doesn't run INSIDE a VPC."}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:'if you need "programmatic access" to manage access controls to CMK\'s what should you use - key policies, iam roles, grants or iam policy?\u2192grants.'}),"\n",(0,t.jsxs)(n.li,{children:["Amazon GuardDuty","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["member & master accounts","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"users in member accounts can't archive findings in their own or the master account - true or false?\u2192True."}),"\n",(0,t.jsx)(n.li,{children:"users in member accounts can't upload & manage Trusted IP lists and threat lists - true or false? True."}),"\n",(0,t.jsx)(n.li,{children:"users in master accounts can upload and manage Trusted IP lists and threat lists in their own account - true or false?\u2192False."}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["How do you ensure RDS database uses token authentication instead of password?\u2192Enable ",(0,t.jsx)(n.code,{children:"IAM DB Authentication"})]}),"\n",(0,t.jsx)(n.li,{children:"In a centralised multi-account CloudTrail logs-to-S3-bucket setup, do you need cross-account access between the S3 buckets in each account?\u2192No. Logs will go directly from member account to central account's S3 (not S3-to-S3, so no cross-account needed)."}),"\n",(0,t.jsxs)(n.li,{children:["If you have CloudWatch and CloudWatch Log Agent issues where logs stop shipping, what are two things you can check for? \u2193","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"check log rotation rules is compatible with the agent's config"}),"\n",(0,t.jsxs)(n.li,{children:["check for duplicate ",(0,t.jsx)(n.code,{children:"[logstream]"}),"configs in agents config file."]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(n.li,{children:["If an AWS Access Key gets popped, what are two services you can use to assess extent of compromise? \u2193","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"CloudTrail for activity history"}),"\n",(0,t.jsx)(n.li,{children:"CloudWatch to search CloudTrail logs for API history"}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(n.li,{children:"what streaming service gives you real-time application log processing?\u2192Kinesis Data Streams"}),"\n",(0,t.jsx)(n.li,{children:"what search service gives you search & analytics?\u2192AWS Elasticsearch"}),"\n",(0,t.jsxs)(n.li,{children:["CloudWatch can use a ",(0,t.jsx)(n.code,{children:"Filter Pattern"})," to match Security Group API calls for an Alarm, ensure you include these SG calls in your pattern, to alarm on.","\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["What is the difference between setting the metric for the ",(0,t.jsx)(n.code,{children:"Filter Pattern"})," to 10 as opposed to 1?\u2192it'll take TEN matches before an alert is sent, whereas if you set it to ",(0,t.jsx)(n.code,{children:"1"})," it'll alarm on the first one."]}),"\n"]}),"\n"]}),"\n"]}),"\n"]}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},28453:(e,n,s)=>{s.d(n,{R:()=>c,x:()=>o});var i=s(96540);const t={},r=i.createContext(t);function c(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),i.createElement(r.Provider,{value:n},e.children)}}}]);