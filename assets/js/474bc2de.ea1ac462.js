"use strict";(self.webpackChunkronamosa_github_io=self.webpackChunkronamosa_github_io||[]).push([[23284],{28453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>r});var n=t(96540);const i={},o=n.createContext(i);function a(e){const s=n.useContext(o);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),n.createElement(o.Provider,{value:s},e.children)}},46875:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/docusaurus-setup-ghperms1-257cad659c2b2f6b8761e6a7611ef07e.png"},65664:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/docusaurus-setup-ghperms2-7ed13aa2b4ab5ea47a7046f900ef0904.png"},90821:(e,s,t)=>{t.d(s,{A:()=>n});const n=t.p+"assets/images/docusaurus-setup-ghpages-773a1dcc310fc24b3e42b3ed23e0c914.png"},94270:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>d,contentTitle:()=>r,default:()=>l,frontMatter:()=>a,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"engineer/Misc/docusaurus-setup","title":"Docusaurus GitHub Pages Deployment - Complete Setup Guide","description":"Step-by-step guide to deploying Docusaurus static sites to GitHub Pages with automated CI/CD, custom domains, and deployment configurations.","source":"@site/docs/engineer/Misc/docusaurus-setup.md","sourceDirName":"engineer/Misc","slug":"/engineer/Misc/docusaurus-setup","permalink":"/docs/engineer/Misc/docusaurus-setup","draft":false,"unlisted":false,"editUrl":"https://github.com/ronamosa/ronamosa.github.io/edit/main/website/docs/engineer/Misc/docusaurus-setup.md","tags":[{"inline":true,"label":"docusaurus","permalink":"/docs/tags/docusaurus"},{"inline":true,"label":"deployment","permalink":"/docs/tags/deployment"},{"inline":true,"label":"github-pages","permalink":"/docs/tags/github-pages"},{"inline":true,"label":"documentation","permalink":"/docs/tags/documentation"},{"inline":true,"label":"ci-cd","permalink":"/docs/tags/ci-cd"}],"version":"current","lastUpdatedBy":"Ron Amosa","lastUpdatedAt":1771617957000,"sidebarPosition":1,"frontMatter":{"title":"Docusaurus GitHub Pages Deployment - Complete Setup Guide","description":"Step-by-step guide to deploying Docusaurus static sites to GitHub Pages with automated CI/CD, custom domains, and deployment configurations.","keywords":["docusaurus","github pages","static site deployment","documentation site","react documentation","gh-pages","static site generator"],"tags":["docusaurus","deployment","github-pages","documentation","ci-cd"],"sidebar_position":1},"sidebar":"docsSidebar","previous":{"title":"Algorithms for Systems Design - Scalable Architecture Patterns and Data Structures","permalink":"/docs/engineer/Misc/algos-system-design"},"next":{"title":"Computer Science Fundamentals - Bits, Bytes, Hex, and Memory Management","permalink":"/docs/engineer/Misc/bits-bytes-hex"}}');var i=t(74848),o=t(28453);const a={title:"Docusaurus GitHub Pages Deployment - Complete Setup Guide",description:"Step-by-step guide to deploying Docusaurus static sites to GitHub Pages with automated CI/CD, custom domains, and deployment configurations.",keywords:["docusaurus","github pages","static site deployment","documentation site","react documentation","gh-pages","static site generator"],tags:["docusaurus","deployment","github-pages","documentation","ci-cd"],sidebar_position:1},r=void 0,d={},c=[{value:"GH Repository",id:"gh-repository",level:2},{value:"Build &amp; Deploy",id:"build--deploy",level:3},{value:"set <code>DEPLOYMENT_BRANCH</code>",id:"set-deployment_branch",level:3},{value:"On GitHub",id:"on-github",level:2},{value:"GitHub Actions Permissions",id:"github-actions-permissions",level:2},{value:"Current Permissions",id:"current-permissions",level:3},{value:"Required Permissions",id:"required-permissions",level:3}];function u(e){const s={admonition:"admonition",code:"code",h2:"h2",h3:"h3",img:"img",p:"p",pre:"pre",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"I can't believe I haven't documented this before."}),"\n",(0,i.jsxs)(s.p,{children:["In order to use GH pages and get your ",(0,i.jsx)(s.code,{children:"gh-pages"})," branch setup properly for docusaurus, do the following:"]}),"\n",(0,i.jsx)(s.h2,{id:"gh-repository",children:"GH Repository"}),"\n",(0,i.jsxs)(s.p,{children:["if your files are under ",(0,i.jsx)(s.code,{children:"/website"})," for example, run the following commands in that dir:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"cd website/\nnpm install # if you see docusaurus not found, run install\n\n# now install gh-pages pkg\nnpm install gh-pages --save-dev\n\n"})}),"\n",(0,i.jsxs)(s.p,{children:["this should now get you your ",(0,i.jsx)(s.code,{children:"docusaurus deploy"})," commands and also insert this in your ",(0,i.jsx)(s.code,{children:"website/package.json"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-json",children:'"scripts": {\n  "deploy": "docusaurus deploy"\n}\n'})}),"\n",(0,i.jsx)(s.h3,{id:"build--deploy",children:"Build & Deploy"}),"\n",(0,i.jsxs)(s.p,{children:["now build your site: ",(0,i.jsx)(s.code,{children:"npm run build"})]}),"\n",(0,i.jsxs)(s.p,{children:["deploy it, which will copy your build files to ",(0,i.jsx)(s.code,{children:"gh-pages"})," and push it to GitHub: ",(0,i.jsx)(s.code,{children:"npm run deploy"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"~/Repos/technesianlivestream.github.io/website on \uf113 \uf126 main \uf06a \u276f npm run deploy                                                                                       at \uf017 22:39:25\n\n> website@0.0.0 deploy\n> docusaurus deploy\n\n\n   \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n   \u2502                                                                                                                \u2502\n   \u2502                                         Update available 2.3.1 \u2192 3.0.1                                         \u2502\n   \u2502                                                                                                                \u2502\n   \u2502                To upgrade Docusaurus packages with the latest version, run the following command:              \u2502\n   \u2502     `npm i @docusaurus/core@latest @docusaurus/preset-classic@latest @docusaurus/module-type-aliases@latest`   \u2502\n   \u2502                                                                                                                \u2502\n   \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\n[WARNING] When deploying to GitHub Pages, it is better to use an explicit \"trailingSlash\" site config.\nOtherwise, GitHub Pages will add an extra trailing slash to your site urls only on direct-access (not when navigation) with a server redirect.\nThis behavior can have SEO impacts and create relative link issues.\n\n[INFO] Deploy command invoked...\n[INFO] organizationName: technesianlivestream\n[INFO] projectName: technesianlivestream.github.io\n[ERROR] Error: For GitHub pages organization deployments, 'docusaurus deploy' does not assume anymore that 'master' is your default Git branch.\nPlease provide the branch name to deploy to as an environment variable, for example DEPLOYMENT_BRANCH=main or DEPLOYMENT_BRANCH=master .\nYou can also set the deploymentBranch property in docusaurus.config.js .\n    at Command.deploy (/Users/ramosa/Repos/technesianlivestream.github.io/website/node_modules/@docusaurus/core/lib/commands/deploy.js:102:15)\n[INFO] Docusaurus version: 2.3.1\nNode version: v18.16.1\n"})}),"\n",(0,i.jsxs)(s.h3,{id:"set-deployment_branch",children:["set ",(0,i.jsx)(s.code,{children:"DEPLOYMENT_BRANCH"})]}),"\n",(0,i.jsxs)(s.p,{children:["set with ",(0,i.jsx)(s.code,{children:"export DEPLOYMENT_BRANCH=gh-pages"})," cos that's where we're deploying from."]}),"\n",(0,i.jsxs)(s.p,{children:["re-run: ",(0,i.jsx)(s.code,{children:"npm run deploy"})]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:'~/Repos/technesianlivestream.github.io/website on \uf113 \uf126 main \uf06a \u276f npm run deploy                                                                                       at \uf017 22:41:07\n\n> website@0.0.0 deploy\n> docusaurus deploy\n\n\n   \u256d\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256e\n   \u2502                                                                                                                \u2502\n   \u2502                                         Update available 2.3.1 \u2192 3.0.1                                         \u2502\n   \u2502                                                                                                                \u2502\n   \u2502                To upgrade Docusaurus packages with the latest version, run the following command:              \u2502\n   \u2502     `npm i @docusaurus/core@latest @docusaurus/preset-classic@latest @docusaurus/module-type-aliases@latest`   \u2502\n   \u2502                                                                                                                \u2502\n   \u2570\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u256f\n\n[WARNING] When deploying to GitHub Pages, it is better to use an explicit "trailingSlash" site config.\nOtherwise, GitHub Pages will add an extra trailing slash to your site urls only on direct-access (not when navigation) with a server redirect.\nThis behavior can have SEO impacts and create relative link issues.\n\n[INFO] Deploy command invoked...\n[INFO] organizationName: technesianlivestream\n[INFO] projectName: technesianlivestream.github.io\n[INFO] deploymentBranch: gh-pages\n[INFO] Remote repo URL: git@github.com:technesianlivestream/technesianlivestream.github.io.git\n5a0c1888dae41ab90bb45ced89531eb475e72d42\n[INFO] `git rev-parse HEAD` code: 0\n[INFO] [en] Creating an optimized production build...\nBrowserslist: caniuse-lite is outdated. Please run:\n  npx update-browserslist-db@latest\n  Why you should do it regularly: https://github.com/browserslist/update-db#readme\n\n\u2714 Client\n\n\n\u2714 Server\n  Compiled successfully in 9.71s\n\n[BABEL] Note: The code generator has deoptimised the styling of /Users/ramosa/Repos/technesianlivestream.github.io/website/static/img/cloud.svg as it exceeds the max of 500KB.\n[BABEL] Note: The code generator has deoptimised the styling of undefined as it exceeds the max of 500KB.\n[BABEL] Note: The code generator has deoptimised the styling of /Users/ramosa/Repos/technesianlivestream.github.io/website/static/img/cloud.svg as it exceeds the max of 500KB.\n[BABEL] Note: The code generator has deoptimised the styling of undefined as it exceeds the max of 500KB.\nBrowserslist: caniuse-lite is outdated. Please run:\n  npx update-browserslist-db@latest\n  Why you should do it regularly: https://github.com/browserslist/update-db#readme\n\n\u2714 Client\n\n\n\u25cf Server \u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588\u2588 cache (99%) shutdown IdleFileCachePlugin\n stored\n\n[SUCCESS] Generated static files in "build".\n[INFO] Use `npm run serve` command to test your build locally.\nCloning into \'/var/folders/kd/2pwbps0n4tl4cz7km7wm63100000gn/T/technesianlivestream.github.io-gh-pages4kCawi\'...\nwarning: Could not find remote branch gh-pages to clone.\nfatal: Remote branch gh-pages not found in upstream origin\n[INFO] `git clone --depth 1 --branch gh-pages git@github.com:technesianlivestream/technesianlivestream.github.io.git "/var/folders/kd/2pwbps0n4tl4cz7km7wm63100000gn/T/technesianlivestream.github.io-gh-pages4kCawi"` code: 128\nInitialized empty Git repository in /private/var/folders/kd/2pwbps0n4tl4cz7km7wm63100000gn/T/technesianlivestream.github.io-gh-pages4kCawi/.git/\n[INFO] `git init` code: 0\nSwitched to a new branch \'gh-pages\'\n[INFO] `git checkout -b gh-pages` code: 0\n[INFO] `git remote add origin git@github.com:technesianlivestream/technesianlivestream.github.io.git` code: 0\n[INFO] `git add --all` code: 0\n[gh-pages (root-commit) eff59c3] Deploy website - based on 5a0c1888dae41ab90bb45ced89531eb475e72d42\n 80 files changed, 847 insertions(+)\n create mode 100644 .nojekyll\n create mode 100644 404.html\n create mode 100644 about/index.html\n create mode 100644 assets/css/styles.92ac0275.css\n ...\n ...\n ...\n create mode 100644 markdown-page/index.html\n create mode 100644 sitemap.xml\n[INFO] `git commit -m "Deploy website - based on 5a0c1888dae41ab90bb45ced89531eb475e72d42"` code: 0\nremote:\nremote: Create a pull request for \'gh-pages\' on GitHub by visiting:\nremote:      https://github.com/technesianlivestream/technesianlivestream.github.io/pull/new/gh-pages\nremote:\nTo github.com:technesianlivestream/technesianlivestream.github.io.git\n * [new branch]      gh-pages -> gh-pages\n[INFO] `git push --force origin gh-pages` code: 0\nWebsite is live at "https://technesianlivestream.github.io/".\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Success!!"})}),"\n",(0,i.jsxs)(s.admonition,{type:"warning",children:[(0,i.jsxs)(s.p,{children:["I was getting into issues with ",(0,i.jsx)(s.code,{children:"npm run deploy"})," when trying to setup ",(0,i.jsx)(s.code,{children:"gh-pages"})," because it kept asking for my GH password while trying to push to the ",(0,i.jsx)(s.code,{children:"http"})," endpoint, realised this was becuse I was in a dev container pushing from that context."]}),(0,i.jsx)(s.p,{children:"Note, this successful push was from a non-dev-container environment on my M2 Macbook"})]}),"\n",(0,i.jsx)(s.h2,{id:"on-github",children:"On GitHub"}),"\n",(0,i.jsxs)(s.p,{children:['Under "Settings" for your repo, set your ',(0,i.jsx)(s.code,{children:"pages"})," to have ",(0,i.jsx)(s.code,{children:"Deploy from a branch"})," and ",(0,i.jsx)(s.code,{children:"gh-pages"})," as your branch, with ",(0,i.jsx)(s.code,{children:"/(root)"})," as your directory:"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"gh pages",src:t(90821).A+"",width:"1490",height:"928"})}),"\n",(0,i.jsx)(s.h2,{id:"github-actions-permissions",children:"GitHub Actions Permissions"}),"\n",(0,i.jsx)(s.p,{children:"In this context, I am a collaborator on the technesianlivestream account & repo, I don't the required permissions so I'm getting this error:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"Pushing website/build directory to gh-pages branch on technesianlivestream/technesianlivestream.github.io repo\n  /usr/bin/git push --force ***github.com/technesianlivestream/technesianlivestream.github.io.git gh-pages\n  remote: Permission to technesianlivestream/technesianlivestream.github.io.git denied to github-actions[bot].\n  fatal: unable to access 'https://github.com/technesianlivestream/technesianlivestream.github.io.git/': The requested URL returned error: 403\n  Error: The process '/usr/bin/git' failed with exit code 128\n"})}),"\n",(0,i.jsx)(s.p,{children:"Checkout -> Settings -> Actions -> General"}),"\n",(0,i.jsx)(s.h3,{id:"current-permissions",children:"Current Permissions"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"no perms",src:t(46875).A+"",width:"1518",height:"598"})}),"\n",(0,i.jsx)(s.h3,{id:"required-permissions",children:"Required Permissions"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"required perms",src:t(65664).A+"",width:"1510",height:"606"})})]})}function l(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}}}]);