"use strict";(self.webpackChunkronamosa_github_io=self.webpackChunkronamosa_github_io||[]).push([[70101],{14248:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/windows-squid-shortcuts-a92ac8ddc401ffebb4b9375a837d35a7.png"},19043:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>a,contentTitle:()=>d,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"archive/2017-08-25-Windows-SQUID-SSLBUMP","title":"Setting up HTTPS inspection (mitm) with Windows Squid","description":"I needed a way to inspect HTTPS traffic on my home network. Some dodgy browsing going on and i wanted to see it all, HTTPS included. Solution? Setup a squid proxy with ssl-bump configured to handle HTTPS.","source":"@site/docs/archive/2017-08-25-Windows-SQUID-SSLBUMP.md","sourceDirName":"archive","slug":"/archive/2017-08-25-Windows-SQUID-SSLBUMP","permalink":"/docs/archive/2017-08-25-Windows-SQUID-SSLBUMP","draft":false,"unlisted":false,"editUrl":"https://github.com/ronamosa/ronamosa.github.io/edit/main/website/docs/archive/2017-08-25-Windows-SQUID-SSLBUMP.md","tags":[],"version":"current","lastUpdatedBy":"Ron Amosa","lastUpdatedAt":1771617957000,"frontMatter":{"title":"Setting up HTTPS inspection (mitm) with Windows Squid"},"sidebar":"docsSidebar","previous":{"title":"FreeNAS: Using Transmission over OpenVPN (jailed)","permalink":"/docs/archive/2017-08-23-FreeNAS-Torrent-Over_OpenVPN"},"next":{"title":"RDP to a Azure AD Joined Device","permalink":"/docs/archive/2017-09-12-Windows10Pro-RDP-AzureADJoined"}}');var t=i(74848),r=i(28453);const o={title:"Setting up HTTPS inspection (mitm) with Windows Squid"},d=void 0,a={},l=[{value:"Requirements",id:"requirements",level:2},{value:"Installation",id:"installation",level:2},{value:"Create your Proxy ROOT CA certificate",id:"create-your-proxy-root-ca-certificate",level:2},{value:"Configure squid.conf on server",id:"configure-squidconf-on-server",level:2},{value:"Errors when restarting Squid",id:"errors-when-restarting-squid",level:2},{value:"The Fix",id:"the-fix",level:2},{value:"Success! (finally)",id:"success-finally",level:2},{value:"Restart Squid service (again)",id:"restart-squid-service-again",level:2},{value:"Set client computers to use proxy",id:"set-client-computers-to-use-proxy",level:2},{value:"Troubleshooting",id:"troubleshooting",level:2},{value:"Reference",id:"reference",level:2},{value:"full <code>squid.conf</code> file",id:"full-squidconf-file",level:3},{value:"full error output in <code>/var/log/squid/cache.log</code>",id:"full-error-output-in-varlogsquidcachelog",level:3}];function c(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.p,{children:"I needed a way to inspect HTTPS traffic on my home network. Some dodgy browsing going on and i wanted to see it all, HTTPS included. Solution? Setup a squid proxy with ssl-bump configured to handle HTTPS."}),"\n",(0,t.jsx)(n.p,{children:"I'm a linux guy so my windows admin is meh, setting up a traditionally unix-based service on my windows server 2012 was a bit of a mission. But here are my notes from getting it (as far as i can tell) working."}),"\n",(0,t.jsx)(n.admonition,{type:"caution",children:(0,t.jsxs)(n.p,{children:["You can follow all these steps on the ",(0,t.jsx)(n.a,{href:"https://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpExplicit",children:"wiki"})," but just as i wished someone had written some of the documentation a little bit clearer, so i leave this here."]})}),"\n",(0,t.jsx)(n.h2,{id:"requirements",children:"Requirements"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"Windows Server 2012"}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"http://packages.diladele.com/squid/3.5.26/squid.msi",children:"Squid 3.5.26 for Microsoft Windows"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://cygwin.com/setup-x86_64.exe",children:"Cygwin x86_64"})}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"installation",children:"Installation"}),"\n",(0,t.jsx)(n.p,{children:"run the MS Squid MSI install GUI:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"squid gui install",src:i(79230).A+"",width:"509",height:"398"})}),"\n",(0,t.jsxs)(n.p,{children:["when you're done you should have a little menu in the task bar, and when you run ",(0,t.jsx)(n.code,{children:"services.msc"})," you should see a 'Squid for Windows' service in 'running' status."]}),"\n",(0,t.jsxs)(n.p,{children:["run the Cygwin ",(0,t.jsx)(n.code,{children:"setup-x86_64.exe"})," you downloaded:"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"squid gui install",src:i(67093).A+"",width:"546",height:"400"})}),"\n",(0,t.jsx)(n.p,{children:"when this is done you should have a new desktop shortcut to crack open a cygwin terminal when you need one. also a 'squid' terminal, which is just a 'cmd' session in the squid home directory:"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"squid gui install",src:i(14248).A+"",width:"92",height:"345"})}),"\n",(0,t.jsx)(n.h2,{id:"create-your-proxy-root-ca-certificate",children:"Create your Proxy ROOT CA certificate"}),"\n",(0,t.jsxs)(n.p,{children:["I use the desktop cygwin shortcut to open a cygwin terminal to run some ",(0,t.jsx)(n.code,{children:"openssl"})," commands to create your proxy servers ROOT Certificate Authority (CA) certificate."]}),"\n",(0,t.jsxs)(n.p,{children:["I opened a cygwin terminal, changed into the squid installation directory ",(0,t.jsx)(n.code,{children:"/cygdrive/c/Squid-3.5/etc/ssl"})," and ran my openssl command there:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"cd /cygdrive/c/Squid-3.5/etc/ssl\nopenssl req -new -newkey rsa:2048 -sha256 -days 365 -nodes -x509 -extensions v3_ca -keyout caproxy.pem -out caproxy.pem\n"})}),"\n",(0,t.jsx)(n.p,{children:"generate a certificate in a format (DER) you can import into client browsers/computers (via certificate import wizard)"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"openssl x509 -in caproxy.pem -outform DER -out caproxy.der\n"})}),"\n",(0,t.jsx)(n.p,{children:"I imported this .der certificate into the 'Trusted Root Certification Authorities' folder on a client PC on my network."}),"\n",(0,t.jsx)(n.h2,{id:"configure-squidconf-on-server",children:"Configure squid.conf on server"}),"\n",(0,t.jsxs)(n.p,{children:["I modified the following section from ",(0,t.jsx)(n.a,{href:"https://wiki.squid-cache.org/ConfigExamples/Intercept/SslBumpExplicit",children:"wiki.squid-cache.org"}),"\nto match my installation."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:"http_port 3128 ssl-bump \\\n  cert=/etc/ssl/caproxy.pem \\\n  generate-host-certificates=on dynamic_cert_mem_cache_size=4MB\n\n# For squid 3.5.x\nsslcrtd_program /lib/squid/ssl_crtd -s /var/lib/ssl_db -M 4MB\n\nacl step1 at_step SslBump1\n\nssl_bump peek step1\nssl_bump bump all\n"})}),"\n",(0,t.jsx)(n.h2,{id:"errors-when-restarting-squid",children:"Errors when restarting Squid"}),"\n",(0,t.jsxs)(n.p,{children:["When restarting for first time with the ssl settings enabled in your squid.conf you're going to run into a few errors.\nin ",(0,t.jsx)(n.code,{children:"/var/log/cache.log"})," you'll see this:\n",(0,t.jsx)(n.code,{children:'(ssl_crtd): Uninitialized SSL certificate database directory: /var/lib/ssl_db. To initialize, run "ssl_crtd -c -s /var/lib/ssl_db".'})]}),"\n",(0,t.jsxs)(n.p,{children:["and squid will finally crash out with this (you'll see this error in EventViewer as well):\n",(0,t.jsx)(n.code,{children:"FATAL: The ssl_crtd helpers are crashing too rapidly, need help!"})]}),"\n",(0,t.jsx)(n.h2,{id:"the-fix",children:"The Fix"}),"\n",(0,t.jsxs)(n.p,{children:["As you can see from the error message, we need to initialize our ssl cer db directory with ",(0,t.jsx)(n.code,{children:'run "ssl_crtd -c -s /var/lib/ssl_db".'})]}),"\n",(0,t.jsx)(n.p,{children:"now, open a 'Squid Terminal' from your desktop shortcut in Windows Server 2012 and navigate to where the 'ssl_crtd.exe' program is (e.g. for me, C:\\Squid-3.5\\lib\\squid)"}),"\n",(0,t.jsx)(n.p,{children:"and run:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-dos",children:"C:\\Squid-3.5\\lib\\squid\\ssl_crtd.exe -c -s C:\\Squid-3.5\\var\\lib\\ssl_db\n"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"key thing to note here:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["the dir 'ssl_db' must ",(0,t.jsx)(n.em,{children:"NOT ALREADY EXIST."})," (or else you're going to have a very bad time)"]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Don't be a dumbass like me and follow the error message ",(0,t.jsx)(n.code,{children:"ssl_crtd: Cannot create blah blah"}),' into a vortex of online forums about it that point to "squid with cygwin is broken and therefore can never do ssl bumping for https traffic".']}),"\n",(0,t.jsx)(n.h2,{id:"success-finally",children:"Success! (finally)"}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"squid crtd success",src:i(42899).A+"",width:"678",height:"343"})}),"\n",(0,t.jsx)(n.h2,{id:"restart-squid-service-again",children:"Restart Squid service (again)"}),"\n",(0,t.jsxs)(n.p,{children:["If your install and configuration was successful, check logfile ",(0,t.jsx)(n.code,{children:"/var/log/cache.log"}),", and it should look like this:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-log",children:"Squid Cache (Version 3.5.26): Terminated abnormally.\nCPU Usage: 0.203 seconds = 0.125 user + 0.078 sys\nMaximum Resident Size: 1304576 KB\nPage faults with physical i/o: 5202\n2017/08/25 20:58:42 kid1| Set Current Directory to /var/cache/squid\n2017/08/25 20:58:42 kid1| Starting Squid Cache version 3.5.26 for x86_64-unknown-cygwin...\n2017/08/25 20:58:42 kid1| Service Name: squid\n2017/08/25 20:58:42 kid1| Process ID 2944\n2017/08/25 20:58:42 kid1| Process Roles: worker\n2017/08/25 20:58:42 kid1| With 3200 file descriptors available\n2017/08/25 20:58:42 kid1| Initializing IP Cache...\n2017/08/25 20:58:42 kid1| parseEtcHosts: /etc/hosts: (2) No such file or directory\n2017/08/25 20:58:42 kid1| DNS Socket created at [::], FD 5\n2017/08/25 20:58:42 kid1| DNS Socket created at 0.0.0.0, FD 6\n2017/08/25 20:58:42 kid1| Adding nameserver 8.8.8.8 from squid.conf\n2017/08/25 20:58:42 kid1| Adding nameserver 208.67.222.222 from squid.conf\n2017/08/25 20:58:42 kid1| helperOpenServers: Starting 5/32 'ssl_crtd' processes\n2017/08/25 20:58:42 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:58:42 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:58:42 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:58:43 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:58:43 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:58:43 kid1| Logfile: opening log daemon:/var/log/squid/access.log\n2017/08/25 20:58:43 kid1| Logfile Daemon: opening log /var/log/squid/access.log\n2017/08/25 20:58:43 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:58:43 kid1| Store logging disabled\n2017/08/25 20:58:43 kid1| Swap maxSize 0 + 262144 KB, estimated 20164 objects\n2017/08/25 20:58:43 kid1| Target number of buckets: 1008\n2017/08/25 20:58:43 kid1| Using 8192 Store buckets\n2017/08/25 20:58:43 kid1| Max Mem  size: 262144 KB\n2017/08/25 20:58:43 kid1| Max Swap size: 0 KB\n2017/08/25 20:58:43 kid1| Using Least Load store dir selection\n2017/08/25 20:58:43 kid1| Set Current Directory to /var/cache/squid\n2017/08/25 20:58:43 kid1| Finished loading MIME types and icons.\n2017/08/25 20:58:43 kid1| HTCP Disabled.\n2017/08/25 20:58:43 kid1| Squid plugin modules loaded: 0\n2017/08/25 20:58:43 kid1| Adaptation support is off.\n2017/08/25 20:58:43 kid1| Accepting SSL bumped HTTP Socket connections at local=[::]:3128 remote=[::] FD 21 flags=9\n2017/08/25 20:58:44 kid1| storeLateRelease: released 0 objects\n2017/08/25 20:59:25 kid1| Set Current Directory to /var/cache/squid\n2017/08/25 20:59:25 kid1| Starting Squid Cache version 3.5.26 for x86_64-unknown-cygwin...\n2017/08/25 20:59:25 kid1| Service Name: squid\n2017/08/25 20:59:25 kid1| Process ID 144\n2017/08/25 20:59:25 kid1| Process Roles: worker\n2017/08/25 20:59:25 kid1| With 3200 file descriptors available\n2017/08/25 20:59:25 kid1| Initializing IP Cache...\n2017/08/25 20:59:25 kid1| parseEtcHosts: /etc/hosts: (2) No such file or directory\n2017/08/25 20:59:25 kid1| DNS Socket created at [::], FD 5\n2017/08/25 20:59:25 kid1| DNS Socket created at 0.0.0.0, FD 6\n2017/08/25 20:59:25 kid1| Adding nameserver 8.8.8.8 from squid.conf\n2017/08/25 20:59:25 kid1| Adding nameserver 208.67.222.222 from squid.conf\n2017/08/25 20:59:25 kid1| helperOpenServers: Starting 5/32 'ssl_crtd' processes\n2017/08/25 20:59:25 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:59:25 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:59:25 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:59:25 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:59:25 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:59:25 kid1| Logfile: opening log daemon:/var/log/squid/access.log\n2017/08/25 20:59:25 kid1| Logfile Daemon: opening log /var/log/squid/access.log\n2017/08/25 20:59:25 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:59:25 kid1| Store logging disabled\n2017/08/25 20:59:25 kid1| Swap maxSize 0 + 262144 KB, estimated 20164 objects\n2017/08/25 20:59:25 kid1| Target number of buckets: 1008\n2017/08/25 20:59:25 kid1| Using 8192 Store buckets\n2017/08/25 20:59:25 kid1| Max Mem  size: 262144 KB\n2017/08/25 20:59:25 kid1| Max Swap size: 0 KB\n2017/08/25 20:59:25 kid1| Using Least Load store dir selection\n2017/08/25 20:59:25 kid1| Set Current Directory to /var/cache/squid\n2017/08/25 20:59:25 kid1| Finished loading MIME types and icons.\n2017/08/25 20:59:25 kid1| HTCP Disabled.\n2017/08/25 20:59:25 kid1| Squid plugin modules loaded: 0\n2017/08/25 20:59:25 kid1| Adaptation support is off.\n2017/08/25 20:59:25 kid1| Accepting SSL bumped HTTP Socket connections at local=[::]:3128 remote=[::] FD 21 flags=9\n2017/08/25 20:59:26 kid1| storeLateRelease: released 0 objects\n2017/08/25 21:01:41 kid1| Starting new ssl_crtd helpers...\n2017/08/25 21:01:41 kid1| helperOpenServers: Starting 1/32 'ssl_crtd' processes\n2017/08/25 21:01:41 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 21:30:14 kid1| Error negotiating SSL on FD 11: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed (1/-1/0)\n2017/08/25 21:30:15 kid1| Error negotiating SSL on FD 11: error:14090086:SSL routines:ssl3_get_server_certificate:certificate verify failed (1/-1/0)\n"})}),"\n",(0,t.jsx)(n.p,{children:"now, this config could probably do with some more work and testing, but this is the bare bones of it and i wanted to get it down before i didn't care about it anymore lol."}),"\n",(0,t.jsx)(n.h2,{id:"set-client-computers-to-use-proxy",children:"Set client computers to use proxy"}),"\n",(0,t.jsx)(n.p,{children:"on client side computer:"}),"\n",(0,t.jsxs)(n.ol,{children:["\n",(0,t.jsx)(n.li,{children:"open 'internet options'"}),"\n",(0,t.jsx)(n.li,{children:"go to 'communications' tab"}),"\n",(0,t.jsx)(n.li,{children:"click 'LAN settings'"}),"\n",(0,t.jsx)(n.li,{children:"check 'Use a proxy server'"}),"\n",(0,t.jsxs)(n.li,{children:["Address: ",(0,t.jsx)(n.code,{children:"IP of your proxy server"})]}),"\n",(0,t.jsx)(n.li,{children:"Port: 3128"}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Get browsing and everything should connect/display for the client, no cert errors/issues, fully transparent."}),"\n",(0,t.jsx)(n.h2,{id:"troubleshooting",children:"Troubleshooting"}),"\n",(0,t.jsx)(n.h2,{id:"reference",children:"Reference"}),"\n",(0,t.jsxs)(n.h3,{id:"full-squidconf-file",children:["full ",(0,t.jsx)(n.code,{children:"squid.conf"})," file"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-bash",children:'#\n# Recommended minimum configuration:\n#\n\n# Example rule allowing access from your local networks.\n# Adapt to list your (internal) IP networks from where browsing\n# should be allowed\n\nacl localnet src 10.0.0.0/8\t# RFC1918 possible internal network\nacl localnet src 172.16.0.0/12\t# RFC1918 possible internal network\nacl localnet src 192.168.0.0/16\t# RFC1918 possible internal network\nacl localnet src fc00::/7       # RFC 4193 local private network range\nacl localnet src fe80::/10      # RFC 4291 link-local (directly plugged) machines\n\nacl SSL_ports port 443\nacl Safe_ports port 80\t\t# http\nacl Safe_ports port 21\t\t# ftp\nacl Safe_ports port 443\t\t# https\nacl Safe_ports port 70\t\t# gopher\nacl Safe_ports port 210\t\t# wais\nacl Safe_ports port 1025-65535\t# unregistered ports\nacl Safe_ports port 280\t\t# http-mgmt\nacl Safe_ports port 488\t\t# gss-http\nacl Safe_ports port 591\t\t# filemaker\nacl Safe_ports port 777\t\t# multiling http\nacl CONNECT method CONNECT\n\n#\n# Recommended minimum Access Permission configuration:\n#\n\n# Only allow cachemgr access from localhost\nhttp_access allow localhost manager\nhttp_access deny manager\n\n# Deny requests to certain unsafe ports\nhttp_access deny !Safe_ports\n\n# Deny CONNECT to other than secure SSL ports\nhttp_access deny CONNECT !SSL_ports\n\n# We strongly recommend the following be uncommented to protect innocent\n# web applications running on the proxy server who think the only\n# one who can access services on "localhost" is a local user\n#http_access deny to_localhost\n\n#\n# INSERT YOUR OWN RULE(S) HERE TO ALLOW ACCESS FROM YOUR CLIENTS\n#\n\n# Example rule allowing access from your local networks.\n# Adapt localnet in the ACL section to list your (internal) IP networks\n# from where browsing should be allowed\nhttp_access allow localnet\nhttp_access allow localhost\n\n# And finally deny all other access to this proxy\n#http_access deny all\n\n# Squid normally listens to port 3128\n#http_port 3128\n\nhttp_port 3128 ssl-bump \\\n  cert=/etc/ssl/caproxy.pem \\\n  generate-host-certificates=on dynamic_cert_mem_cache_size=4MB\n\n# For squid 3.5.x\nsslcrtd_program /lib/squid/ssl_crtd -s /var/lib/ssl_db -M 4MB\n\nacl step1 at_step SslBump1\n\nssl_bump peek step1\nssl_bump bump all\n\n# Uncomment the line below to enable disk caching - path format is /cygdrive/<full path to cache folder />, i.e.\n#cache_dir aufs /cygdrive/d/squid/cache 3000 16 256\n\n\n# Leave coredumps in the first cache dir\ncoredump_dir /var/cache/squid\n\n# Add any of your own refresh_pattern entries above these.\nrefresh_pattern ^ftp:\t\t1440\t20%\t10080\nrefresh_pattern ^gopher:\t1440\t0%\t1440\nrefresh_pattern -i (/cgi-bin/|\\?) 0\t0%\t0\nrefresh_pattern .\t\t0\t20%\t4320\n\ndns_nameservers 8.8.8.8 208.67.222.222\n\nmax_filedescriptors 3200\n'})}),"\n",(0,t.jsxs)(n.h3,{id:"full-error-output-in-varlogsquidcachelog",children:["full error output in ",(0,t.jsx)(n.code,{children:"/var/log/squid/cache.log"})]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-log",children:'2017/08/25 20:58:33 kid1| helperOpenServers: Starting 5/32 \'ssl_crtd\' processes\n2017/08/25 20:58:33 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n(ssl_crtd): Uninitialized SSL certificate database directory: /var/lib/ssl_db. To initialize, run "ssl_crtd -c -s /var/lib/ssl_db".\n2017/08/25 20:58:33 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n(ssl_crtd): Uninitialized SSL certificate database directory: /var/lib/ssl_db. To initialize, run "ssl_crtd -c -s /var/lib/ssl_db".\n2017/08/25 20:58:33 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n(ssl_crtd): Uninitialized SSL certificate database directory: /var/lib/ssl_db. To initialize, run "ssl_crtd -c -s /var/lib/ssl_db".\n2017/08/25 20:58:33 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n(ssl_crtd): Uninitialized SSL certificate database directory: /var/lib/ssl_db. To initialize, run "ssl_crtd -c -s /var/lib/ssl_db".\n2017/08/25 20:58:33 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:58:33 kid1| Logfile: opening log daemon:/var/log/squid/access.log\n2017/08/25 20:58:33 kid1| Logfile Daemon: opening log /var/log/squid/access.log\n(ssl_crtd): Uninitialized SSL certificate database directory: /var/lib/ssl_db. To initialize, run "ssl_crtd -c -s /var/lib/ssl_db".\n2017/08/25 20:58:33 kid1| WARNING: no_suid: setuid(0): (22) Invalid argument\n2017/08/25 20:58:33 kid1| Store logging disabled\n2017/08/25 20:58:33 kid1| Swap maxSize 0 + 262144 KB, estimated 20164 objects\n2017/08/25 20:58:33 kid1| Target number of buckets: 1008\n2017/08/25 20:58:33 kid1| Using 8192 Store buckets\n2017/08/25 20:58:33 kid1| Max Mem  size: 262144 KB\n2017/08/25 20:58:33 kid1| Max Swap size: 0 KB\n2017/08/25 20:58:33 kid1| Using Least Load store dir selection\n2017/08/25 20:58:33 kid1| Set Current Directory to /var/cache/squid\n2017/08/25 20:58:33 kid1| Finished loading MIME types and icons.\n2017/08/25 20:58:33 kid1| HTCP Disabled.\n2017/08/25 20:58:33 kid1| Squid plugin modules loaded: 0\n2017/08/25 20:58:33 kid1| Adaptation support is off.\n2017/08/25 20:58:33 kid1| Accepting SSL bumped HTTP Socket connections at local=[::]:3128 remote=[::] FD 21 flags=9\n2017/08/25 20:58:33 kid1| WARNING: ssl_crtd #Hlpr1 exited\n2017/08/25 20:58:33 kid1| Too few ssl_crtd processes are running (need 1/32)\n2017/08/25 20:58:33 kid1| Closing HTTP port [::]:3128\n2017/08/25 20:58:33 kid1| storeDirWriteCleanLogs: Starting...\n2017/08/25 20:58:33 kid1|   Finished.  Wrote 0 entries.\n2017/08/25 20:58:33 kid1|   Took 0.00 seconds (  0.00 entries/sec).\nFATAL: The ssl_crtd helpers are crashing too rapidly, need help!\n'})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(c,{...e})}):c(e)}},28453:(e,n,i)=>{i.d(n,{R:()=>o,x:()=>d});var s=i(96540);const t={},r=s.createContext(t);function o(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function d(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),s.createElement(r.Provider,{value:n},e.children)}},42899:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/windows-squid-ssl_crtd-7e965af0e132aaea5583e54c8a9ebbd6.png"},67093:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/windows-squid-cygwingui-42a1d8d0d6142dd938aef73e436aef61.png"},79230:(e,n,i)=>{i.d(n,{A:()=>s});const s=i.p+"assets/images/windows-squid-gui-install-402bbe044db1127a1b9dc2ed3b30be2e.png"}}]);